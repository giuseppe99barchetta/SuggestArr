(function(){var e={8539:function(e,t,s){"use strict";var a=s(3751),o=s(641);const l={id:"app"};function i(e,t,s,a,i,n){const r=(0,o.g2)("router-view");return(0,o.uX)(),(0,o.CE)("div",l,[(0,o.bF)(r,null,{default:(0,o.k6)((({Component:e})=>[((0,o.uX)(),(0,o.Wv)((0,o.$y)(e)))])),_:1})])}var n={name:"App"},r=s(6262);const c=(0,r.A)(n,[["render",i]]);var d=c,u=s(3464),g=s.n(u),f=s(5220),p=s(33),h=s.p+"img/logo.8e3a4916.png";const m={class:"request-content p-4 sm:p-6 bg-gray-800 bg-opacity-90 rounded-lg shadow-lg w-full max-w-3xl lg:max-w-4xl"},b={class:"mb-6 text-center"},L={class:"flex flex-col space-y-3"},E={class:"relative"},k={class:"relative w-full h-24 overflow-hidden rounded-md"},v=["src","alt","onClick"],y=["onClick"],S=["src"],C={key:2,class:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-50"},_={class:"text-lg font-semibold text-white text-center px-2"},x={class:"flex flex-wrap gap-1 mt-3"},I={class:"text-xs bg-blue-600 text-white px-2 py-1 rounded-lg"},T={class:"text-xs bg-green-600 text-white px-2 py-1 rounded-lg"},R={class:"text-xs bg-yellow-600 text-white px-2 py-1 rounded-lg"},A=["onClick"],w={class:"mt-3 space-y-2"},D=["src","alt","onClick"],U={class:"flex-grow"},N={class:"font-semibold text-white"},M={class:"text-xs text-gray-500"},P={key:0,class:"modal-overlay fixed inset-0 flex items-center justify-center z-50 bg-black bg-opacity-70"},O={class:"modal-content relative p-6 sm:p-8 bg-gray-900 rounded-lg shadow-lg w-full max-w-md sm:max-w-3xl flex flex-col sm:flex-row items-center sm:items-start"},B={class:"w-full sm:w-1/3 mb-4 sm:mb-0"},F=["src","alt"],X={class:"w-full sm:w-2/3 sm:pl-6 text-gray-300"},V={class:"text-3xl font-bold text-white mb-4"},H={class:"mb-4 space-y-2"},Y={class:"flex flex-wrap gap-1 mt-3"},K={class:"text-xs bg-blue-600 text-white px-2 py-1 rounded-lg"},J={class:"text-xs bg-green-600 text-white px-2 py-1 rounded-lg"},G={class:"text-xs bg-yellow-600 text-white px-2 py-1 rounded-lg"},W={key:0,class:"text-xs bg-purple-600 text-white px-2 py-1 rounded-lg"},q={class:"text-gray-400"},Q={key:0},j={class:"space-y-2"},z={class:"text-xs text-gray-500"},$=["onClick"],Z={key:0,ref:"loadMoreTrigger",class:"load-more text-center text-gray-400 mt-6 mx-auto"},ee={key:1,class:"text-center text-gray-500 mt-6"};function te(e,t,s,l,i,n){const r=(0,o.g2)("Footer");return(0,o.uX)(),(0,o.Wv)(a.eB,{name:"fade",mode:"out-in"},{default:(0,o.k6)((()=>[(0,o.Lk)("div",{class:"request-container bg-fixed bg-center min-h-screen flex flex-col items-center py-4 px-2 sm:px-4 lg:px-8",style:(0,p.Tr)({backgroundImage:"url("+e.backgroundImageUrl+")"})},[(0,o.Lk)("div",m,[(0,o.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>n.goHome&&n.goHome(...e)),class:"p-0 bg-transparent border-none text-gray-300 hover:text-gray-400 focus:outline-none mb-4 sm:mb-6 flex items-center"},t[3]||(t[3]=[(0,o.Lk)("i",{class:"fas fa-arrow-left mr-2 text-xl"},null,-1),(0,o.Lk)("span",{class:"text-sm"},"Back to Home",-1)])),t[11]||(t[11]=(0,o.Lk)("div",{class:"flex items-center justify-center mb-4"},[(0,o.Lk)("a",{href:"https://github.com/giuseppe99barchetta/SuggestArr",target:"_blank"},[(0,o.Lk)("img",{src:h,alt:"SuggestArr Logo",class:"w-20 h-auto"})])],-1)),(0,o.Lk)("div",b,[(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>i.searchQuery=e),type:"text",placeholder:"Search requests...",class:"search-input w-full"},null,512),[[a.Jo,i.searchQuery]])]),t[12]||(t[12]=(0,o.Lk)("h2",{class:"text-2xl font-semibold text-white text-center mb-5"},"Recently Watched Content",-1)),(0,o.bF)(a.F,{name:"fade-slide",tag:"div",class:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4 sm:gap-6"},{default:(0,o.k6)((()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(n.filteredSources,(e=>((0,o.uX)(),(0,o.CE)("div",{key:e.id,class:"source-box p-4 rounded-lg shadow-md"},[(0,o.Lk)("div",L,[(0,o.Lk)("div",E,[(0,o.Lk)("div",k,[e.backdrop_path?((0,o.uX)(),(0,o.CE)("img",{key:0,src:e.backdrop_path,alt:e.title,class:"w-full h-full object-cover",onClick:t=>n.openModal(e)},null,8,v)):(0,o.Q3)("",!0),e.logo_path?((0,o.uX)(),(0,o.CE)("div",{key:1,onClick:t=>n.openModal(e),class:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-50"},[(0,o.Lk)("img",{src:e.logo_path,alt:"Logo",class:"content-logo h-16 max-w-[50%] object-contain"},null,8,S)],8,y)):((0,o.uX)(),(0,o.CE)("div",C,[(0,o.Lk)("h2",_,(0,p.v_)(e.title),1)]))]),(0,o.Lk)("div",x,[(0,o.Lk)("span",I,(0,p.v_)(e.media_type.toUpperCase()),1),(0,o.Lk)("span",T,"Rating: "+(0,p.v_)(e.rating||"N/A"),1),(0,o.Lk)("span",R,"Released: "+(0,p.v_)(e.release_date),1)]),(0,o.Lk)("div",{onClick:t=>e.showRequests=!e.showRequests,class:"text-xs font-semibold text-blue-400 mt-3 cursor-pointer flex items-center space-x-2"},[(0,o.Lk)("i",{class:(0,p.C4)(e.showRequests?"fas fa-chevron-up":"fas fa-chevron-down")},null,2),(0,o.Lk)("span",null,(0,p.v_)(e.showRequests?"Hide Requested Media":"View Requested Media"),1)],8,A),(0,o.bo)((0,o.Lk)("div",w,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.requests,(e=>((0,o.uX)(),(0,o.CE)("div",{key:e.request_id,class:"request-box p-3 rounded-md flex items-center space-x-4 bg-gray-700"},[e.poster_path?((0,o.uX)(),(0,o.CE)("img",{key:0,src:e.poster_path,alt:e.title,class:"w-16 h-16 object-cover rounded-md",onClick:t=>n.openModal(e)},null,8,D)):(0,o.Q3)("",!0),(0,o.Lk)("div",U,[(0,o.Lk)("h4",N,(0,p.v_)(e.title),1),(0,o.Lk)("p",M,"Requested at: "+(0,p.v_)(e.requested_at),1)])])))),128))],512),[[a.aG,e.showRequests]])])])])))),128))])),_:1}),(0,o.bF)(a.eB,{name:"fade"},{default:(0,o.k6)((()=>[i.showModal?((0,o.uX)(),(0,o.CE)("div",P,[(0,o.Lk)("div",O,[(0,o.Lk)("button",{onClick:t[2]||(t[2]=(...e)=>n.closeModal&&n.closeModal(...e)),class:"text-gray-400 hover:text-gray-200 absolute top-4 right-4 text-xl"},t[4]||(t[4]=[(0,o.Lk)("i",{class:"fas fa-times"},null,-1)])),(0,o.Lk)("div",B,[i.selectedSource.poster_path?((0,o.uX)(),(0,o.CE)("img",{key:0,src:i.selectedSource.poster_path,alt:i.selectedSource.title,class:"w-full h-auto object-cover rounded-md shadow-md"},null,8,F)):(0,o.Q3)("",!0)]),(0,o.Lk)("div",X,[(0,o.Lk)("h2",V,(0,p.v_)(i.selectedSource.title),1),t[8]||(t[8]=(0,o.Lk)("div",{class:"modal-separator"},null,-1)),(0,o.Lk)("div",H,[(0,o.Lk)("div",Y,[(0,o.Lk)("span",K,(0,p.v_)(i.selectedSource.media_type.toUpperCase()),1),(0,o.Lk)("span",J,"Rating: "+(0,p.v_)(i.selectedSource.rating||"N/A"),1),(0,o.Lk)("span",G,"Released: "+(0,p.v_)(i.selectedSource.release_date),1),i.selectedSource.requested_at?((0,o.uX)(),(0,o.CE)("span",W,"Requested: "+(0,p.v_)(i.selectedSource.requested_at),1)):(0,o.Q3)("",!0)]),(0,o.Lk)("p",null,[t[5]||(t[5]=(0,o.Lk)("strong",null,"Overview:",-1)),t[6]||(t[6]=(0,o.eW)()),(0,o.Lk)("span",q,(0,p.v_)(i.selectedSource.overview),1)])]),i.selectedSource.requests?((0,o.uX)(),(0,o.CE)("div",Q,[t[7]||(t[7]=(0,o.Lk)("h3",{class:"text-lg font-semibold text-gray-400 mb-2"},"Requested Media:",-1)),(0,o.Lk)("ul",j,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(i.selectedSource.requests,(e=>((0,o.uX)(),(0,o.CE)("li",{key:e.request_id,class:"text-sm bg-gray-800 p-3 rounded-md flex justify-between items-center shadow"},[(0,o.Lk)("div",null,[(0,o.Lk)("strong",null,(0,p.v_)(e.title),1),(0,o.Lk)("p",z,"Requested on: "+(0,p.v_)(e.requested_at),1)]),(0,o.Lk)("button",{class:"hover:underline",onClick:t=>n.openModal(e)},"Details",8,$)])))),128))])])):(0,o.Q3)("",!0)])])])):(0,o.Q3)("",!0)])),_:1}),i.currentPage<i.totalPages?((0,o.uX)(),(0,o.CE)("div",Z,t[9]||(t[9]=[(0,o.Lk)("i",{class:"fas fa-spinner fa-spin text-xl sm:text-2xl"},null,-1)]),512)):(0,o.Q3)("",!0),0===n.filteredSources.length?((0,o.uX)(),(0,o.CE)("div",ee,t[10]||(t[10]=[(0,o.Lk)("p",null,"No requests found.",-1)]))):(0,o.Q3)("",!0),(0,o.bF)(r)])],4)])),_:1})}s(4114),s(8111),s(2489),s(1701),s(3579);var se=s(4335),ae={data(){return{backgroundImageUrl:"",intervalId:null,defaultImages:["/images/default1.jpg","/images/default2.jpg","/images/default3.jpg"],currentDefaultImageIndex:0}},methods:{startDefaultImageRotation(){this.backgroundImageUrl=this.defaultImages[this.currentDefaultImageIndex],this.intervalId=setInterval((()=>{this.currentDefaultImageIndex=(this.currentDefaultImageIndex+1)%this.defaultImages.length,this.backgroundImageUrl=this.defaultImages[this.currentDefaultImageIndex]}),1e4)},async fetchRandomMovieImage(e,t){const s=await e(t);if(s){const e=new Image;e.src=s,e.onload=()=>{this.backgroundImageUrl=s}}},startBackgroundImageRotation(e,t){this.fetchRandomMovieImage(e,t),this.intervalId=setInterval((()=>{this.fetchRandomMovieImage(e,t)}),1e4)},stopBackgroundImageRotation(){this.intervalId&&clearInterval(this.intervalId)}},beforeUnmount(){this.stopBackgroundImageRotation()}};const oe={class:"footer"},le={class:"logs-button-container"},ie={class:"footer-content"},ne={href:"https://github.com/giuseppe99barchetta/SuggestArr",target:"_blank","aria-label":"GitHub"},re={href:"https://hub.docker.com/repository/docker/ciuse99/suggestarr/",target:"_blank","aria-label":"Docker"},ce={href:"https://www.reddit.com/r/selfhosted/comments/1g3dn1t/automate_media_recommendations_and_downloads_with/",target:"_blank","aria-label":"Reddit"},de={href:"https://discord.gg/JXwFd3PnXY",target:"_blank","aria-label":"Discord"},ue={class:"modal"},ge={class:"modal-header"},fe={class:"modal-body"};function pe(e,t,s,l,i,n){const r=(0,o.g2)("font-awesome-icon"),c=(0,o.g2)("LogsComponent");return(0,o.uX)(),(0,o.CE)("footer",oe,[(0,o.Lk)("div",le,[(0,o.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>n.toggleLogs&&n.toggleLogs(...e)),class:"logs-button"},[(0,o.bF)(r,{icon:["fas","file-alt"],class:"logs-icon"}),t[3]||(t[3]=(0,o.Lk)("span",{class:"logs-text"},"View Logs",-1))])]),(0,o.Lk)("div",ie,[(0,o.Lk)("a",ne,[(0,o.bF)(r,{icon:["fab","github"],class:"footer-icon"})]),(0,o.Lk)("a",re,[(0,o.bF)(r,{icon:["fab","docker"],class:"footer-icon"})]),(0,o.Lk)("a",ce,[(0,o.bF)(r,{icon:["fab","reddit"],class:"footer-icon"})]),(0,o.Lk)("a",de,[(0,o.bF)(r,{icon:["fab","discord"],class:"footer-icon"})])]),i.showLogs?((0,o.uX)(),(0,o.CE)("div",{key:0,class:"modal-overlay",onClick:t[2]||(t[2]=(0,a.D$)(((...e)=>n.toggleLogs&&n.toggleLogs(...e)),["self"]))},[(0,o.Lk)("div",ue,[(0,o.Lk)("div",ge,[t[4]||(t[4]=(0,o.Lk)("h2",{class:"modal-title"},"System Logs",-1)),(0,o.Lk)("button",{class:"close-button",onClick:t[1]||(t[1]=(...e)=>n.toggleLogs&&n.toggleLogs(...e))},"×")]),(0,o.Lk)("div",fe,[(0,o.bF)(c)])])])):(0,o.Q3)("",!0)])}var he=s(1273),me=s(7875),be=s(6188),Le=s(7107);const Ee={class:"logs-container"},ke={class:"logs-table-container"},ve={class:"filter-container"},ye={class:"logs-table"},Se=["onClick"],Ce={key:0,class:"loading-spinner"};function _e(e,t,s,l,i,n){const r=(0,o.g2)("font-awesome-icon");return(0,o.uX)(),(0,o.CE)("div",Ee,[(0,o.Lk)("div",ke,[(0,o.Lk)("div",ve,[(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>i.filterText=e),placeholder:"Filter logs...",class:"filter-input"},null,512),[[a.Jo,i.filterText]]),(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":t[1]||(t[1]=e=>i.selectedSeverity=e),class:"severity-dropdown"},t[3]||(t[3]=[(0,o.Fv)('<option value="" data-v-2845f25c>All Severities</option><option value="DEBUG" data-v-2845f25c>DEBUG</option><option value="INFO" data-v-2845f25c>INFO</option><option value="WARNING" data-v-2845f25c>WARNING</option><option value="ERROR" data-v-2845f25c>ERROR</option>',5)]),512),[[a.u1,i.selectedSeverity]]),(0,o.Lk)("button",{onClick:t[2]||(t[2]=(...e)=>n.toggleAutoUpdate&&n.toggleAutoUpdate(...e)),class:"toggle-button"},[(0,o.bF)(r,{icon:[(i.autoUpdate,"fas"),i.autoUpdate?"pause":"play"]},null,8,["icon"])])]),(0,o.Lk)("table",ye,[t[4]||(t[4]=(0,o.Lk)("thead",null,[(0,o.Lk)("tr",null,[(0,o.Lk)("th",null,"TIMESTAMP"),(0,o.Lk)("th",null,"SEVERITY"),(0,o.Lk)("th",null,"LABEL"),(0,o.Lk)("th",null,"MESSAGE"),(0,o.Lk)("th")])],-1)),(0,o.Lk)("tbody",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(n.filteredLogs,((e,t)=>((0,o.uX)(),(0,o.CE)("tr",{key:t},[(0,o.Lk)("td",null,(0,p.v_)(e.dateTime),1),(0,o.Lk)("td",null,[(0,o.Lk)("span",{class:(0,p.C4)(`severity-label ${e.severity.toLowerCase()}`)},(0,p.v_)(e.severity),3)]),(0,o.Lk)("td",null,(0,p.v_)(e.tag),1),(0,o.Lk)("td",null,(0,p.v_)(e.message),1),(0,o.Lk)("td",null,[(0,o.Lk)("button",{onClick:t=>n.copyLog(e),class:"copy-button"},"Copy",8,Se)])])))),128))])]),i.loadingMore?((0,o.uX)(),(0,o.CE)("div",Ce,[(0,o.bF)(r,{icon:"spinner",spin:""})])):(0,o.Q3)("",!0)])])}var xe={components:{FontAwesomeIcon:he.gc},data(){return{logs:[],displayedLogs:[],filterText:"",selectedSeverity:"",autoUpdate:!0,updateInterval:null,batchSize:100,loadingMore:!1}},computed:{filteredLogs(){const e=this.filterText||this.selectedSeverity?this.logs:this.displayedLogs;return e.filter((e=>{const t=e.message&&e.message.toLowerCase().includes(this.filterText.toLowerCase()),s=""===this.selectedSeverity||e.severity===this.selectedSeverity;return t&&s}))}},mounted(){this.startAutoUpdate();const e=this.$el.querySelector(".logs-table-container");e.addEventListener("scroll",this.handleScroll)},beforeUnmount(){this.stopAutoUpdate();const e=this.$el.querySelector(".logs-table-container");e.removeEventListener("scroll",this.handleScroll)},methods:{fetchLogs(){se.A.get("/api/logs").then((e=>{this.logs=this.parseLogs(e.data).reverse(),this.displayedLogs=this.logs.slice(0,this.batchSize)})).catch((e=>{console.error("Error fetching logs:",e)}))},loadMoreLogs(){const e=this.selectedSeverity||this.filterText?this.filteredLogs:this.logs;this.loadingMore||this.displayedLogs.length>=e.length||(this.loadingMore=!0,setTimeout((()=>{const e=this.logs.slice(this.displayedLogs.length,this.displayedLogs.length+this.batchSize);this.displayedLogs=[...this.displayedLogs,...e],this.loadingMore=!1}),500))},handleScroll(){const e=this.$el.querySelector(".logs-table-container"),t=e.scrollTop+e.clientHeight,s=e.scrollHeight,a=this.selectedSeverity||this.filterText?this.filteredLogs:this.logs;t>=.9*s&&this.displayedLogs.length<a.length&&this.loadMoreLogs()},parseLogs(e){return e.map((e=>{const[t,s,a,o]=e.split(" - ");return{dateTime:t,tag:s,severity:a,message:o}}))},copyLog(e){const t=`${e.dateTime} - ${e.tag} - ${e.severity} - ${e.message}`;navigator.clipboard.writeText(t).then((()=>{})).catch((e=>{console.error("Error while copying log:",e)}))},startAutoUpdate(){this.fetchLogs(),this.updateInterval=setInterval(this.fetchLogs,5e3),this.autoUpdate=!0},stopAutoUpdate(){this.updateInterval&&(clearInterval(this.updateInterval),this.updateInterval=null,this.autoUpdate=!1)},toggleAutoUpdate(){this.autoUpdate?this.stopAutoUpdate():this.startAutoUpdate()}},created(){Le.Yv.add(be.ijD,be.G1Y,be.z1G)}};const Ie=(0,r.A)(xe,[["render",_e],["__scopeId","data-v-2845f25c"]]);var Te=Ie;Le.Yv.add(me.Vz1,me._yG,me._Rc,me.onr,be.h8M,me._2G);var Re={components:{FontAwesomeIcon:he.gc,LogsComponent:Te},data(){return{showLogs:!1}},methods:{toggleLogs(){this.showLogs=!this.showLogs}}};const Ae=(0,r.A)(Re,[["render",pe],["__scopeId","data-v-0735764e"]]);var we=Ae;const De=async e=>{if(!e)return null;const t=Math.floor(100*Math.random())+1;try{const s=await se.A.get("https://api.themoviedb.org/3/movie/popular",{params:{api_key:e,page:t,include_adult:!1}}),a=s.data.results,o=a[Math.floor(Math.random()*a.length)];return`https://image.tmdb.org/t/p/w1280${o.backdrop_path}`}catch(s){return console.error("Failed to fetch movie image:",s),null}};var Ue={name:"RequestsPage",components:{Footer:we},mixins:[ae],data(){return{tmdbApiKey:this.$route.query.tmdbApiKey,sources:[],searchQuery:"",showModal:!1,selectedSource:null,loading:!1,currentPage:1,totalPages:1}},computed:{filteredSources(){const e=this.searchQuery.toLowerCase();return this.sources.filter((t=>{const s=t.title&&t.title.toLowerCase().includes(e),a=t.requests.some((t=>t.title&&t.title.toLowerCase().includes(e)));return s||a}))}},watch:{totalPages(){this.initObserver()},currentPage(){this.initObserver()}},methods:{async observeIntersection(e){e[0].isIntersecting&&!this.loading&&await this.fetchRequests(this.currentPage+1)},initObserver(){this.observer&&this.observer.disconnect(),this.$nextTick((()=>{const e=this.$refs.loadMoreTrigger;e&&(this.observer=new IntersectionObserver(this.observeIntersection,{root:null,threshold:1}),this.observer.observe(e))}))},async fetchRequests(e=1){if(!(e>this.totalPages)){this.loading=!0;try{const t=await se.A.get(`/api/automation/requests?page=${e}`),{data:s,total_pages:a}=t.data;this.sources=[...this.sources,...s.map((e=>({id:e.source_id,title:e.source_title,release_date:e.source_release_date,overview:e.source_overview,poster_path:e.source_poster_path,rating:e.rating,media_type:e.media_type,showRequests:!1,logo_path:e.logo_path,backdrop_path:e.backdrop_path,requests:e.requests.map((e=>({request_id:e.request_id,title:e.title,media_type:e.media_type,requested_at:e.requested_at,overview:e.overview,poster_path:e.poster_path,release_date:e.release_date,rating:e.rating,logo_path:e.logo_path,backdrop_path:e.backdrop_path})))})))],this.totalPages=a,this.currentPage=e}catch(t){console.error("Failed to fetch requests:",t)}finally{this.loading=!1}}},goHome(){this.$router.push({name:"Home"})},openModal(e){this.selectedSource=e,this.showModal=!0},closeModal(){this.showModal=!1,this.selectedSource=null}},created(){this.fetchRequests(),console.log("TMDB_API_KEY:",this.apiKey)},mounted(){this.$nextTick((()=>{setTimeout((()=>{this.initObserver()}),500)})),this.tmdbApiKey?this.startBackgroundImageRotation(De,this.tmdbApiKey):this.startDefaultImageRotation()},beforeUnmount(){this.stopBackgroundImageRotation()}};const Ne=(0,r.A)(Ue,[["render",te],["__scopeId","data-v-139e28be"]]);var Me=Ne;const Pe={class:"wizard-content"},Oe={class:"welcome-card"},Be={class:"setup-options"},Fe={key:0,class:"existing-config"},Xe={class:"wizard-content"},Ve={class:"setup-header"},He={class:"progress-bar"},Ye={class:"steps-count"},Ke={class:"wizard-step-container"},Je={class:"wizard-content"},Ge={class:"completion-card"},We={class:"completion-actions"};function qe(e,t,s,l,i,n){const r=(0,o.g2)("router-link"),c=(0,o.g2)("Footer");return(0,o.uX)(),(0,o.CE)("div",null,[i.showWelcome?((0,o.uX)(),(0,o.CE)("div",{key:0,class:"wizard-container",style:(0,p.Tr)({backgroundImage:"url("+i.backgroundImageUrl+")"})},[(0,o.Lk)("div",Pe,[t[16]||(t[16]=(0,o.Lk)("a",{href:"https://github.com/giuseppe99barchetta/SuggestArr",target:"_blank"},[(0,o.Lk)("img",{src:h,alt:"SuggestArr Logo",class:"attached-logo mb-6 text-center"})],-1)),(0,o.Lk)("div",Oe,[t[14]||(t[14]=(0,o.Lk)("h1",null,"Welcome to SuggestArr!",-1)),t[15]||(t[15]=(0,o.Lk)("p",{class:"welcome-subtitle"}," Let's get you set up with personalized content suggestions from your media server. ",-1)),(0,o.Lk)("div",Be,[(0,o.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>n.startQuickSetup&&n.startQuickSetup(...e)),class:"setup-btn primary"},t[8]||(t[8]=[(0,o.Lk)("i",{class:"fas fa-rocket"},null,-1),(0,o.Lk)("span",null,"Quick Setup",-1),(0,o.Lk)("small",null,"Recommended for most users",-1)])),(0,o.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>n.startAdvancedSetup&&n.startAdvancedSetup(...e)),class:"setup-btn secondary"},t[9]||(t[9]=[(0,o.Lk)("i",{class:"fas fa-cogs"},null,-1),(0,o.Lk)("span",null,"Advanced Setup",-1),(0,o.Lk)("small",null,"Configure all settings now",-1)]))]),i.hasExistingConfig?((0,o.uX)(),(0,o.CE)("div",Fe,[(0,o.Lk)("p",null,[t[11]||(t[11]=(0,o.Lk)("i",{class:"fas fa-info-circle"},null,-1)),t[12]||(t[12]=(0,o.eW)(" Existing configuration detected. You can also go directly to ")),(0,o.bF)(r,{to:"/settings",class:"settings-link"},{default:(0,o.k6)((()=>t[10]||(t[10]=[(0,o.eW)("Settings")]))),_:1}),t[13]||(t[13]=(0,o.eW)(". "))])])):(0,o.Q3)("",!0)]),(0,o.bF)(c)])],4)):i.currentStep<=n.steps.length?((0,o.uX)(),(0,o.CE)("div",{key:1,class:"wizard-container",style:(0,p.Tr)({backgroundImage:"url("+i.backgroundImageUrl+")"})},[(0,o.Lk)("div",Xe,[t[19]||(t[19]=(0,o.Lk)("a",{href:"https://github.com/giuseppe99barchetta/SuggestArr",target:"_blank"},[(0,o.Lk)("img",{src:h,alt:"SuggestArr Logo",class:"attached-logo mb-6 text-center"})],-1)),(0,o.Lk)("div",Ve,[i.currentStep>1?((0,o.uX)(),(0,o.CE)("button",{key:0,onClick:t[2]||(t[2]=(...e)=>n.goBack&&n.goBack(...e)),class:"back-btn"},t[17]||(t[17]=[(0,o.Lk)("i",{class:"fas fa-arrow-left"},null,-1),(0,o.eW)(" Back ")]))):((0,o.uX)(),(0,o.CE)("button",{key:1,onClick:t[3]||(t[3]=e=>i.showWelcome=!0),class:"back-btn"},t[18]||(t[18]=[(0,o.Lk)("i",{class:"fas fa-arrow-left"},null,-1),(0,o.eW)(" Back to Setup Options ")])))]),(0,o.Lk)("div",He,[(0,o.Lk)("div",{class:"progress",style:(0,p.Tr)({width:n.progressBarWidth})},null,4)]),(0,o.Lk)("p",Ye,(0,p.v_)("quick"===i.setupMode?"Quick Setup":"Advanced Setup")+" - Step "+(0,p.v_)(i.currentStep)+" of "+(0,p.v_)(n.steps.length),1),(0,o.Lk)("div",Ke,[(0,o.bF)(a.eB,{name:"fade",mode:"out-in"},{default:(0,o.k6)((()=>[((0,o.uX)(),(0,o.Wv)((0,o.$y)(n.currentStepComponent),{config:i.config,isQuickSetup:"quick"===i.setupMode,onNextStep:t[4]||(t[4]=e=>n.handleStepChange(1)),onPreviousStep:t[5]||(t[5]=e=>n.handleStepChange(-1)),onUpdateConfig:n.updateConfig,onSkipStep:n.skipStep},null,40,["config","isQuickSetup","onUpdateConfig","onSkipStep"]))])),_:1})]),(0,o.bF)(c)])],4)):i.currentStep===n.steps.length+1?((0,o.uX)(),(0,o.CE)("div",{key:2,class:"wizard-container",style:(0,p.Tr)({backgroundImage:"url("+i.backgroundImageUrl+")"})},[(0,o.Lk)("div",Je,[t[23]||(t[23]=(0,o.Lk)("a",{href:"https://github.com/giuseppe99barchetta/SuggestArr",target:"_blank"},[(0,o.Lk)("img",{src:h,alt:"SuggestArr Logo",class:"attached-logo mb-6 text-center"})],-1)),(0,o.Lk)("div",Ge,[t[22]||(t[22]=(0,o.Fv)('<div class="success-icon" data-v-522a0af6><i class="fas fa-check-circle" data-v-522a0af6></i></div><h1 data-v-522a0af6>Setup Complete!</h1><p class="completion-subtitle" data-v-522a0af6> SuggestArr is now configured and ready to suggest content from your media server. </p><div class="next-steps" data-v-522a0af6><h3 data-v-522a0af6>What&#39;s Next?</h3><ul data-v-522a0af6><li data-v-522a0af6>View and manage your suggestions in the <strong data-v-522a0af6>Requests</strong> page</li><li data-v-522a0af6>Fine-tune your preferences in <strong data-v-522a0af6>Settings</strong></li><li data-v-522a0af6>Run your first content suggestion manually</li></ul></div>',4)),(0,o.Lk)("div",We,[(0,o.Lk)("button",{onClick:t[6]||(t[6]=(...e)=>n.goToSettings&&n.goToSettings(...e)),class:"action-btn secondary"},t[20]||(t[20]=[(0,o.Lk)("i",{class:"fas fa-cog"},null,-1),(0,o.eW)(" Go to Settings ")])),(0,o.Lk)("button",{onClick:t[7]||(t[7]=(...e)=>n.goToRequests&&n.goToRequests(...e)),class:"action-btn primary"},t[21]||(t[21]=[(0,o.Lk)("i",{class:"fas fa-list-alt"},null,-1),(0,o.eW)(" View Suggestions ")]))])]),(0,o.bF)(c)])],4)):(0,o.Q3)("",!0)])}const Qe={class:"media-services grid grid-cols-2 gap-4"},je=["onClick"],ze={key:0,class:"coming-soon-overlay"},$e={key:1,class:"new-badge"},Ze={class:"flex justify-between mt-8 space-x-4"};function et(e,t,s,a,l,i){return(0,o.uX)(),(0,o.CE)("div",null,[t[2]||(t[2]=(0,o.Lk)("h3",{class:"text-xl font-bold text-gray-200 mb-4"},"Select the media service you want to use:",-1)),(0,o.Lk)("div",Qe,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(l.services,(e=>((0,o.uX)(),(0,o.CE)("div",{key:e.name,class:(0,p.C4)(["service-box",{selected:s.config.SELECTED_SERVICE===e.value&&!e.comingSoon,"coming-soon":e.comingSoon}]),style:(0,p.Tr)({backgroundImage:`url(${e.logo})`}),onClick:t=>i.selectService(e)},[e.comingSoon?((0,o.uX)(),(0,o.CE)("div",ze,t[1]||(t[1]=[(0,o.Lk)("p",null,"Coming Soon",-1)]))):(0,o.Q3)("",!0),e.isNew?((0,o.uX)(),(0,o.CE)("div",$e," ✨ NEW ")):(0,o.Q3)("",!0)],14,je)))),128))]),(0,o.Lk)("div",Ze,[(0,o.Lk)("button",{onClick:t[0]||(t[0]=t=>e.$emit("next-step")),class:"bg-indigo-600 hover:bg-indigo-500 text-white font-bold py-4 px-8 rounded-lg w-full"}," Next Step ")])])}var tt={props:["config"],data(){return{services:[{name:"Jellyfin",value:"jellyfin",logo:s(7238),comingSoon:!1,isNew:!1},{name:"Plex",value:"plex",logo:s(8186),comingSoon:!1,isNew:!0},{name:"Emby",value:"emby",logo:s(1936),comingSoon:!1,isNew:!0}],showTooltip:!1}},methods:{selectService(e){e.comingSoon||this.$emit("update-config","SELECTED_SERVICE",e.value)}}};const st=(0,r.A)(tt,[["render",et],["__scopeId","data-v-ebe57ed8"]]);var at=st;const ot={class:"flex flex-col sm:flex-row items-start sm:items-center"},lt=["value"],it=["disabled"],nt={key:0,class:"fas fa-spinner fa-spin"},rt={key:1,class:"fas fa-check"},ct={key:2,class:"fas fa-times"},dt={key:3,class:"fas fa-play"},ut={key:0,class:"bg-gray-800 border border-red-500 text-red-500 px-4 py-3 rounded-lg mt-4",role:"alert"},gt={class:"flex justify-between mt-8 space-x-4"},ft=["disabled"];function pt(e,t,s,a,l,i){return(0,o.uX)(),(0,o.CE)("div",null,[t[5]||(t[5]=(0,o.Lk)("h3",{class:"text-sm sm:text-lg font-semibold text-gray-300"},"TMDB Configuration",-1)),t[6]||(t[6]=(0,o.Lk)("p",{class:"text-xs sm:text-sm text-gray-400 mb-4"},[(0,o.eW)(" You can get your TMDB API Key by signing up at "),(0,o.Lk)("a",{href:"https://www.themoviedb.org/",class:"text-indigo-400"},"The Movie Database"),(0,o.eW)(". ")],-1)),t[7]||(t[7]=(0,o.Lk)("label",{for:"TMDB_API_KEY",class:"block text-xs sm:text-sm font-semibold text-gray-300"},"TMDB API Key:",-1)),(0,o.Lk)("div",ot,[(0,o.Lk)("input",{type:"text",value:s.config.TMDB_API_KEY,onInput:t[0]||(t[0]=t=>e.$emit("update-config","TMDB_API_KEY",t.target.value)),class:"w-full bg-gray-700 border border-gray-600 rounded-lg shadow-md px-4 py-2 mb-4 sm:mb-0 sm:mr-2",id:"TMDB_API_KEY",placeholder:"Enter your TMDB API Key"},null,40,lt),(0,o.Lk)("button",{type:"button",onClick:t[1]||(t[1]=(...e)=>i.testTmdbApi&&i.testTmdbApi(...e)),disabled:l.tmdbTestState.isTesting,class:(0,p.C4)([{"bg-green-500 hover:bg-green-600":"success"===l.tmdbTestState.status,"bg-red-500 hover:bg-red-600":"fail"===l.tmdbTestState.status,"bg-blue-500 hover:bg-blue-600":null===l.tmdbTestState.status},"text-white px-4 py-2 rounded-lg shadow-md w-full sm:w-auto"])},[l.tmdbTestState.isTesting?((0,o.uX)(),(0,o.CE)("i",nt)):"success"===l.tmdbTestState.status?((0,o.uX)(),(0,o.CE)("i",rt)):"fail"===l.tmdbTestState.status?((0,o.uX)(),(0,o.CE)("i",ct)):((0,o.uX)(),(0,o.CE)("i",dt))],10,it)]),"fail"===l.tmdbTestState.status?((0,o.uX)(),(0,o.CE)("div",ut,t[4]||(t[4]=[(0,o.Lk)("span",{class:"block sm:inline"},"Failed to validate TMDB API Key.",-1)]))):(0,o.Q3)("",!0),(0,o.Lk)("div",gt,[(0,o.Lk)("button",{onClick:t[2]||(t[2]=t=>e.$emit("previous-step")),class:"bg-gray-600 hover:bg-gray-500 text-white font-bold py-4 px-8 rounded-lg w-full"}," Back "),(0,o.Lk)("button",{onClick:t[3]||(t[3]=t=>e.$emit("next-step")),disabled:"success"!==l.tmdbTestState.status,class:(0,p.C4)(["bg-indigo-600 hover:bg-indigo-500 text-white font-bold py-4 px-8 rounded-lg w-full",{"opacity-50 cursor-not-allowed":"success"!==l.tmdbTestState.status}])}," Next Step ",10,ft)])])}const ht=e=>{const t=`https://api.themoviedb.org/3/movie/550?api_key=${e}`;return se.A.get(t)},mt=(e,t)=>se.A.post("/api/seer/get_users",{SEER_API_URL:e,SEER_TOKEN:t}),bt=(e,t,s,a)=>se.A.post("/api/seer/login",{SEER_API_URL:e,SEER_TOKEN:t,SEER_USER_NAME:s,SEER_PASSWORD:a});function Lt(e,t){return se.A.post("/api/jellyfin/libraries",{JELLYFIN_API_URL:e,JELLYFIN_TOKEN:t})}function Et(e,t){return se.A.post("/api/jellyfin/users",{JELLYFIN_API_URL:e,JELLYFIN_TOKEN:t})}var kt={props:["config"],data(){return{tmdbTestState:{status:null,isTesting:!1}}},methods:{testTmdbApi(){this.tmdbTestState.isTesting=!0,this.tmdbTestState.status=null,ht(this.config.TMDB_API_KEY).then((()=>{this.tmdbTestState.status="success"})).catch((()=>{this.tmdbTestState.status="fail"})).finally((()=>{this.tmdbTestState.isTesting=!1}))},autoTestTmdbApi(){this.config.TMDB_API_KEY&&this.testTmdbApi()}},mounted(){this.autoTestTmdbApi()}};const vt=(0,r.A)(kt,[["render",pt]]);var yt=vt;const St={class:"text-sm sm:text-lg font-semibold text-gray-300"},Ct={class:"text-xs sm:text-sm text-gray-400 mb-4"},_t={for:"JELLYFIN_API_URL",class:"block text-xs sm:text-sm font-semibold text-gray-300"},xt=["value","placeholder"],It={for:"JELLYFIN_TOKEN",class:"block text-xs sm:text-sm font-semibold text-gray-300 mt-4"},Tt={class:"flex flex-col sm:flex-row items-start sm:items-center"},Rt=["value","placeholder"],At=["disabled"],wt={key:0,class:"fas fa-spinner fa-spin"},Dt={key:1,class:"fas fa-check"},Ut={key:2,class:"fas fa-times"},Nt={key:3,class:"fas fa-play"},Mt={key:0},Pt={class:"text-sm text-gray-300 mt-4"},Ot={class:"grid grid-cols-1 sm:grid-cols-3 gap-4 mt-4"},Bt=["onClick"],Ft={key:1},Xt={class:"text-sm text-gray-300 mt-4"},Vt={class:"grid grid-cols-1 sm:grid-cols-3 gap-4 mt-4"},Ht=["onClick"],Yt={key:2,class:"bg-gray-800 border border-red-500 text-red-500 px-4 py-3 rounded-lg mt-4",role:"alert"},Kt={class:"block sm:inline"},Jt={class:"flex justify-between mt-8 space-x-4"},Gt=["disabled"];function Wt(e,t,s,a,l,i){return(0,o.uX)(),(0,o.CE)("div",null,[(0,o.Lk)("h3",St,(0,p.v_)(i.serviceName)+" Configuration",1),(0,o.Lk)("p",Ct," To obtain your "+(0,p.v_)(i.serviceName)+" API Key, follow these steps: Open the "+(0,p.v_)(i.serviceName)+' web interface, navigate to the Control Panel, select "API Keys," create a new key, and copy it for use in this configuration. ',1),(0,o.Lk)("label",_t,(0,p.v_)(i.serviceName)+" URL:",1),(0,o.Lk)("input",{type:"text",value:s.config["JELLYFIN_API_URL"],onFocusout:t[0]||(t[0]=e=>i.updateApiUrl(e.target.value)),class:"w-full bg-gray-700 border border-gray-600 rounded-lg shadow-md px-4 py-2",placeholder:`http://your-${i.serviceName.toLowerCase()}-url`},null,40,xt),(0,o.Lk)("label",It,(0,p.v_)(i.serviceName)+" API Key:",1),(0,o.Lk)("div",Tt,[(0,o.Lk)("input",{type:"text",value:s.config["JELLYFIN_TOKEN"],onInput:t[1]||(t[1]=t=>e.$emit("update-config","JELLYFIN_TOKEN",t.target.value)),class:"w-full bg-gray-700 border border-gray-600 rounded-lg shadow-md px-4 py-2 mb-4 sm:mb-0 sm:mr-2",placeholder:`Your ${i.serviceName} API Key`},null,40,Rt),(0,o.Lk)("button",{type:"button",onClick:t[2]||(t[2]=(...e)=>i.fetchLibraries&&i.fetchLibraries(...e)),disabled:l.testState.isTesting,class:(0,p.C4)([{"bg-green-500 hover:bg-green-600":"success"===l.testState.status,"bg-red-500 hover:bg-red-600":"fail"===l.testState.status,"bg-blue-500 hover:bg-blue-600":null===l.testState.status},"text-white px-4 py-2 rounded-lg shadow-md w-full sm:w-auto"])},[l.testState.isTesting?((0,o.uX)(),(0,o.CE)("i",wt)):"success"===l.testState.status?((0,o.uX)(),(0,o.CE)("i",Dt)):"fail"===l.testState.status?((0,o.uX)(),(0,o.CE)("i",Ut)):((0,o.uX)(),(0,o.CE)("i",Nt))],10,At)]),l.libraries.length>0?((0,o.uX)(),(0,o.CE)("div",Mt,[(0,o.Lk)("p",Pt,"Select the "+(0,p.v_)(i.serviceName)+" libraries you want to include:",1),t[5]||(t[5]=(0,o.Lk)("span",{class:"text-gray-400 text-xs"},"(If no libraries are selected, all libraries will be included.)",-1)),(0,o.Lk)("div",Ot,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(l.libraries,(e=>((0,o.uX)(),(0,o.CE)("div",{key:e.ItemId,onClick:t=>i.toggleLibrarySelection(e),class:(0,p.C4)([{"bg-indigo-600 border-indigo-600":i.isSelected(e.ItemId),"bg-gray-700 border-gray-600":!i.isSelected(e.ItemId)},"cursor-pointer p-4 border rounded-lg text-center text-white hover:bg-indigo-500"])},(0,p.v_)(e.Name),11,Bt)))),128))])])):(0,o.Q3)("",!0),l.users.length>0?((0,o.uX)(),(0,o.CE)("div",Ft,[(0,o.Lk)("p",Xt,"Select the "+(0,p.v_)(i.serviceName)+" users you want to include:",1),t[6]||(t[6]=(0,o.Lk)("span",{class:"text-gray-400 text-xs"},"(If no users are selected, all users will be included.)",-1)),(0,o.Lk)("div",Vt,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(l.users,(e=>((0,o.uX)(),(0,o.CE)("div",{key:e.id,onClick:t=>i.toggleUserSelection(e),class:(0,p.C4)([{"bg-indigo-600 border-indigo-600":i.isUserSelected(e.id),"bg-gray-700 border-gray-600":!i.isUserSelected(e.id)},"cursor-pointer p-4 border rounded-lg text-center text-white hover:bg-indigo-500"])},(0,p.v_)(e.name),11,Ht)))),128))])])):(0,o.Q3)("",!0),"fail"===l.testState.status?((0,o.uX)(),(0,o.CE)("div",Yt,[(0,o.Lk)("span",Kt,"Failed to validate "+(0,p.v_)(i.serviceName)+" Key or retrieve libraries.",1)])):(0,o.Q3)("",!0),(0,o.Lk)("div",Jt,[(0,o.Lk)("button",{onClick:t[3]||(t[3]=t=>e.$emit("previous-step")),class:"bg-gray-600 hover:bg-gray-500 text-white font-bold py-4 px-8 rounded-lg w-full"},"Back"),(0,o.Lk)("button",{onClick:t[4]||(t[4]=t=>e.$emit("next-step",{selectedLibraryIds:l.selectedLibraryIds,selectedLibraryNames:l.selectedLibraryNames})),disabled:0===l.selectedLibraryIds.length,class:(0,p.C4)(["bg-indigo-600 hover:bg-indigo-500 text-white font-bold py-4 px-8 rounded-lg w-full",{"opacity-50 cursor-not-allowed":0===l.selectedLibraryIds.length}])},"Next Step",10,Gt)])])}var qt={props:["config"],data(){return{testState:{status:null,isTesting:!1},libraries:[],selectedLibraryIds:[],selectedLibraryNames:[],users:[],selectedUserIds:[],selectedUserName:[]}},computed:{serviceName(){return"emby"===this.config.SELECTED_SERVICE?"Emby":"Jellyfin"}},methods:{fetchLibraries(){this.testState.isTesting=!0,this.testState.status=null,Lt(this.config["JELLYFIN_API_URL"],this.config["JELLYFIN_TOKEN"]).then((e=>{this.libraries=e.data.items,this.testState.status="success",this.loadSelectedLibraries(),this.fetchUsers()})).catch((()=>{this.testState.status="fail"})).finally((()=>{this.testState.isTesting=!1}))},fetchUsers(){Et(this.config["JELLYFIN_API_URL"],this.config["JELLYFIN_TOKEN"]).then((e=>{this.users=e.data.users,this.loadSelectedUsers()})).catch((()=>{console.log("error while fetching users.")}))},toggleLibrarySelection(e){const t=this.selectedLibraryIds.indexOf(e.ItemId);-1===t?(this.selectedLibraryIds.push(e.ItemId),this.selectedLibraryNames.push(e.Name)):(this.selectedLibraryIds.splice(t,1),this.selectedLibraryNames.splice(this.selectedLibraryNames.indexOf(e.Name),1)),this.$emit("update-config","JELLYFIN_LIBRARIES",this.combineLibraryData(this.selectedLibraryIds,this.selectedLibraryNames))},toggleUserSelection(e){console.log(e);const t=this.selectedUserIds.indexOf(e.id);-1===t?(this.selectedUserIds.push(e.id),this.selectedUserName.push(e.name)):(this.selectedUserIds.splice(t,1),this.selectedUserName.splice(t,1));const s=this.selectedUserIds.filter((e=>e)),a=this.selectedUserName.filter((e=>e)),o=this.combineLibraryData(s,a);console.log("Selected users to be saved:",o),this.$emit("update-config","SELECTED_USERS",o)},isUserSelected(e){return this.selectedUserIds.includes(e)},isSelected(e){return this.selectedLibraryIds.includes(e)},loadSelectedLibraries(){this.config["JELLYFIN_LIBRARIES"]&&(this.selectedLibraryIds=this.config["JELLYFIN_LIBRARIES"].map((e=>e.id)),this.selectedLibraryNames=this.config["JELLYFIN_LIBRARIES"].map((e=>e.name)))},loadSelectedUsers(){this.config["SELECTED_USERS"]&&(this.selectedUserIds=this.config["SELECTED_USERS"].map((e=>e.id)),this.selectedUserName=this.config["SELECTED_USERS"].map((e=>e.name)))},combineLibraryData(e,t){return e.length!==t.length?(console.error("Mismatch between number of ids and names"),[]):e.map(((e,s)=>({id:e,name:t[s]}))).filter((e=>e.id&&e.name))},updateApiUrl(e){const t=e.endsWith("/")?e.slice(0,-1):e;this.$emit("update-config","JELLYFIN_API_URL",t)},autoTestService(){this.config["JELLYFIN_API_URL"]&&this.config["JELLYFIN_TOKEN"]&&this.fetchLibraries()}},mounted(){this.autoTestService()}};const Qt=(0,r.A)(qt,[["render",Wt]]);var jt=Qt;const zt=["value"],$t={class:"flex flex-col sm:flex-row items-start sm:items-center"},Zt=["value"],es=["disabled"],ts={key:0,class:"fas fa-spinner fa-spin"},ss={key:1,class:"fas fa-check"},as={key:2,class:"fas fa-times"},os={key:3,class:"fas fa-play"},ls={key:0,class:"bg-gray-800 border border-red-500 text-red-500 px-4 py-3 rounded-lg mt-4",role:"alert"},is={key:1,class:"mt-4"},ns={key:0},rs=["value"],cs=["disabled"],ds={key:0,class:"fas fa-spinner fa-spin"},us={key:1},gs={key:2},fs={key:1},ps={class:"text-xs sm:text-sm text-red-500"},hs=["href"],ms={class:"flex justify-between mt-8 space-x-4"},bs=["disabled"];function Ls(e,t,s,l,i,n){return(0,o.uX)(),(0,o.CE)("div",null,[t[17]||(t[17]=(0,o.Lk)("h3",{class:"text-sm sm:text-lg font-semibold text-gray-300"},"Overseer/Jellyseer API Configuration",-1)),t[18]||(t[18]=(0,o.Lk)("p",{class:"text-xs sm:text-sm text-gray-400 mb-4"},'To obtain your Overseer/Jellyseer API Key, open the Overseer/Jellyseer interface, navigate to Settings, locate the "API Key" section, and copy your key for use in this configuration.',-1)),t[19]||(t[19]=(0,o.Lk)("label",{for:"SEER_API_URL",class:"block text-xs sm:text-sm font-semibold text-gray-300"},"Overseer/Jellyseer URL:",-1)),(0,o.Lk)("input",{type:"text",value:s.config["SEER_API_URL"],onFocusout:t[0]||(t[0]=e=>n.updateSeerUrl(e.target.value)),class:"w-full bg-gray-700 border border-gray-600 rounded-lg shadow-md px-4 py-2",placeholder:"http://your-overseer-or-jellySeer-url"},null,40,zt),t[20]||(t[20]=(0,o.Lk)("label",{for:"SEER_TOKEN",class:"block text-xs sm:text-sm font-semibold text-gray-300 mt-4"},"Overseer/Jellyseer API Key:",-1)),(0,o.Lk)("div",$t,[(0,o.Lk)("input",{type:"text",value:s.config["SEER_TOKEN"],onInput:t[1]||(t[1]=t=>e.$emit("update-config","SEER_TOKEN",t.target.value)),class:"w-full bg-gray-700 border border-gray-600 rounded-lg shadow-md px-4 py-2 mb-4 sm:mb-0 sm:mr-2",placeholder:"Enter your Overseer/Jellyseer API Key"},null,40,Zt),(0,o.Lk)("button",{type:"button",onClick:t[2]||(t[2]=(...e)=>n.testApi&&n.testApi(...e)),disabled:i.testState.isTesting,class:(0,p.C4)([{"bg-green-500 hover:bg-green-600":"success"===i.testState.status,"bg-red-500 hover:bg-red-600":"fail"===i.testState.status,"bg-blue-500 hover:bg-blue-600":null===i.testState.status},"text-white px-4 py-2 rounded-lg shadow-md w-full sm:w-auto"])},[i.testState.isTesting?((0,o.uX)(),(0,o.CE)("i",ts)):"success"===i.testState.status?((0,o.uX)(),(0,o.CE)("i",ss)):"fail"===i.testState.status?((0,o.uX)(),(0,o.CE)("i",as)):((0,o.uX)(),(0,o.CE)("i",os))],10,es)]),"fail"===i.testState.status?((0,o.uX)(),(0,o.CE)("div",ls,t[11]||(t[11]=[(0,o.Lk)("span",{class:"block sm:inline"},"Failed to validate Overseer/Jellyseer Key.",-1)]))):(0,o.Q3)("",!0),"success"===i.testState.status?((0,o.uX)(),(0,o.CE)("div",is,[t[15]||(t[15]=(0,o.Lk)("label",{for:"SEER_USER_NAME",class:"block text-xs sm:text-sm font-semibold text-gray-300"},"Select a local User:",-1)),t[16]||(t[16]=(0,o.Lk)("p",{class:"text-xs sm:text-sm text-gray-400 mb-2"}," Only local users of Overseer/Jellyseer can be selected. Selecting a specific user is useful if you want to disable automatic approval of requests and manually approve them before automatic downloading. This step is optional. If no user is selected, the administrator account will be used to make requests. ",-1)),(0,o.Lk)("form",{onSubmit:t[8]||(t[8]=(0,a.D$)(((...e)=>n.authenticateUser&&n.authenticateUser(...e)),["prevent"]))},[i.users.length>0?((0,o.uX)(),(0,o.CE)("div",ns,[(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":t[3]||(t[3]=e=>i.selectedUser=e),onChange:t[4]||(t[4]=(...e)=>n.updateSeerUser&&n.updateSeerUser(...e)),class:"w-full bg-gray-700 border border-gray-600 rounded-lg shadow-md px-4 py-2"},[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(i.users,(e=>((0,o.uX)(),(0,o.CE)("option",{key:e.name,value:e},(0,p.v_)(e.name),9,rs)))),128))],544),[[a.u1,i.selectedUser]]),t[12]||(t[12]=(0,o.Lk)("input",{type:"text",autocomplete:"username",class:"hidden"},null,-1)),t[13]||(t[13]=(0,o.Lk)("label",{for:"SEER_USER_PSW",class:"block text-xs sm:text-sm font-semibold text-gray-300 mt-4"},"Password:",-1)),(0,o.bo)((0,o.Lk)("input",{type:"password","onUpdate:modelValue":t[5]||(t[5]=e=>i.userPassword=e),onInput:t[6]||(t[6]=t=>e.$emit("update-config","SEER_USER_PSW",i.userPassword)),class:"w-full bg-gray-700 border border-gray-600 rounded-lg shadow-md px-4 py-2",placeholder:"Enter your password",autocomplete:"new-password"},null,544),[[a.Jo,i.userPassword]]),(0,o.Lk)("button",{onClick:t[7]||(t[7]=(...e)=>n.authenticateUser&&n.authenticateUser(...e)),disabled:i.isAuthenticating,class:(0,p.C4)([{"bg-green-500 hover:bg-green-600":i.authenticated,"bg-indigo-600 hover:bg-indigo-500":!i.authenticated,"opacity-50 cursor-not-allowed":i.isAuthenticating},"text-white font-bold py-4 px-8 rounded-lg w-full mt-4"])},[i.isAuthenticating?((0,o.uX)(),(0,o.CE)("i",ds)):i.authenticated?((0,o.uX)(),(0,o.CE)("span",us,"Logged In")):((0,o.uX)(),(0,o.CE)("span",gs,"Authenticate"))],10,cs)])):((0,o.uX)(),(0,o.CE)("div",fs,[(0,o.Lk)("p",ps,[t[14]||(t[14]=(0,o.eW)(" No local users available. The administrator account will be used for requests. ")),(0,o.Lk)("a",{href:`${s.config["SEER_API_URL"]}/users`,target:"_blank",class:"text-blue-400 underline"}," Create a new local user here. ",8,hs)])]))],32)])):(0,o.Q3)("",!0),(0,o.Lk)("div",ms,[(0,o.Lk)("button",{onClick:t[9]||(t[9]=t=>e.$emit("previous-step")),class:"bg-gray-600 hover:bg-gray-500 text-white font-bold py-4 px-8 rounded-lg w-full"},"Back"),(0,o.Lk)("button",{onClick:t[10]||(t[10]=t=>e.$emit("next-step")),class:"bg-indigo-600 hover:bg-indigo-500 text-white font-bold py-4 px-8 rounded-lg w-full",disabled:"success"!==i.testState.status}," Next ",8,bs)])])}s(116);var Es={props:["config"],data(){return{users:[],selectedUser:"",userPassword:"",authenticated:!1,isAuthenticating:!1,testState:{status:null,isTesting:!1}}},methods:{autoTestAndAuthenticate(){this.config["SEER_API_URL"]&&this.config["SEER_TOKEN"]&&this.testApi(),this.config["SEER_USER_NAME"]&&this.config["SEER_USER_PSW"]&&(this.userPassword=this.config["SEER_USER_PSW"],this.selectedUser={name:this.config["SEER_USER_NAME"]},this.authenticated=!0)},testApi(){this.testState.isTesting=!0,this.testState.status=null,mt(this.config["SEER_API_URL"],this.config["SEER_TOKEN"]).then((e=>{this.users=e.data.users.filter((e=>e.isLocal)),this.testState.status="success",this.loadSelectedUser()})).catch((()=>{this.testState.status="fail"})).finally((()=>{this.testState.isTesting=!1}))},authenticateUser(){this.isAuthenticating=!0,bt(this.config["SEER_API_URL"],this.config["SEER_TOKEN"],this.config["SEER_USER_NAME"],this.userPassword).then((e=>{this.authenticated=!0,this.$emit("update-config","SEER_SESSION_TOKEN",e.data.session_token)})).catch((()=>{this.authenticated=!1,this.$toast.open({message:"Incorrect User/Password!",pauseOnHover:!0,duration:5e3,type:"error"})})).finally((()=>{this.isAuthenticating=!1}))},updateSeerUser(){const e=this.selectedUser.email?this.selectedUser.email:this.selectedUser.name;this.$emit("update-config","SEER_USER_NAME",e)},updateSeerUrl(e){const t=e.endsWith("/")?e.slice(0,-1):e;this.$emit("update-config","SEER_API_URL",t)},loadSelectedUser(){this.config.SEER_USER_NAME&&(this.selectedUser=this.users.find((e=>e.name===this.config.SEER_USER_NAME||e.email===this.config.SEER_USER_NAME))),this.config.SEER_USER_PSW&&(this.userPassword=this.config.SEER_USER_PSW)}},mounted(){this.autoTestAndAuthenticate()}};const ks=(0,r.A)(Es,[["render",Ls]]);var vs=ks;const ys={class:"flex flex-col sm:flex-row space-y-4 sm:space-y-0 sm:space-x-4 mt-4"},Ss={class:"w-full sm:w-1/2"},Cs=["value"],_s={class:"w-full sm:w-1/2"},xs=["value"],Is=["value"],Ts=["value"],Rs=["value"],As={key:0,class:"text-xs sm:text-sm text-green-400 mt-2"},ws={key:1,class:"text-xs sm:text-sm text-red-500 mt-2"},Ds=["value"],Us={class:"flex justify-between mt-8 space-x-4"};function Ns(e,t,s,a,l,i){return(0,o.uX)(),(0,o.CE)("div",null,[t[12]||(t[12]=(0,o.Lk)("h3",{class:"text-sm sm:text-lg font-semibold text-gray-300"},"Additional Configuration",-1)),t[13]||(t[13]=(0,o.Lk)("p",{class:"text-xs sm:text-sm text-gray-400 mb-4"},"Suggestarr scans your recent viewing history and finds similar content based on the settings below. Adjust these options to control the number and type of suggestions generated.",-1)),(0,o.Lk)("div",ys,[(0,o.Lk)("div",Ss,[t[8]||(t[8]=(0,o.Lk)("label",{for:"MAX_SIMILAR_MOVIE",class:"block text-xs sm:text-sm font-semibold text-gray-300"},"Max Similar Movies:",-1)),t[9]||(t[9]=(0,o.Lk)("p",{class:"text-xs sm:text-sm text-gray-400 mb-2"},"Define how many similar movies Suggestarr should find for each movie viewed. For example, if set to 1, Suggestarr will suggest one similar movie for every movie in the recent viewing history.",-1)),(0,o.Lk)("input",{type:"number",value:s.config.MAX_SIMILAR_MOVIE,onInput:t[0]||(t[0]=e=>i.handleUpdate("MAX_SIMILAR_MOVIE",e.target.value)),class:"w-full bg-gray-700 border border-gray-600 rounded-lg shadow-md px-4 py-2",id:"MAX_SIMILAR_MOVIE",placeholder:"5"},null,40,Cs)]),(0,o.Lk)("div",_s,[t[10]||(t[10]=(0,o.Lk)("label",{for:"MAX_SIMILAR_TV",class:"block text-xs sm:text-sm font-semibold text-gray-300"},"Max Similar TV Shows:",-1)),t[11]||(t[11]=(0,o.Lk)("p",{class:"text-xs sm:text-sm text-gray-400 mb-2"},"Define how many similar TV shows Suggestarr should find for each show in the viewing history. For example, if set to 2, it will suggest up to two similar shows for every recently viewed show.",-1)),(0,o.Lk)("input",{type:"number",value:s.config.MAX_SIMILAR_TV,onInput:t[1]||(t[1]=e=>i.handleUpdate("MAX_SIMILAR_TV",e.target.value)),class:"w-full bg-gray-700 border border-gray-600 rounded-lg shadow-md px-4 py-2",id:"MAX_SIMILAR_TV",placeholder:"2"},null,40,xs)])]),t[14]||(t[14]=(0,o.Lk)("label",{for:"MAX_CONTENT_CHECKS",class:"block text-xs sm:text-sm font-semibold text-gray-300 mt-4"},"Max Content Checks:",-1)),t[15]||(t[15]=(0,o.Lk)("p",{class:"text-xs sm:text-sm text-gray-400 mb-2"},"Set the maximum number of items from your recent viewing history Suggestarr should analyze. For instance, if set to 3, it will look for similar items based on the last three movies or shows viewed.",-1)),(0,o.Lk)("input",{type:"number",value:s.config.MAX_CONTENT_CHECKS,onInput:t[2]||(t[2]=e=>i.handleUpdate("MAX_CONTENT_CHECKS",e.target.value)),class:"w-full bg-gray-700 border border-gray-600 rounded-lg shadow-md px-4 py-2",id:"MAX_CONTENT_CHECKS",placeholder:"10"},null,40,Is),t[16]||(t[16]=(0,o.Lk)("label",{for:"SEARCH_SIZE",class:"block text-xs sm:text-sm font-semibold text-gray-300 mt-4"},"Search Size:",-1)),t[17]||(t[17]=(0,o.Lk)("p",{class:"text-xs sm:text-sm text-gray-400 mb-2"},"Specify how many suggestions Suggestarr should generate for each item it analyzes. For example, if set to 5, Suggestarr will find up to 5 possible suggestions for each movie or show it checks.",-1)),(0,o.Lk)("input",{type:"number",value:s.config.SEARCH_SIZE,onInput:t[3]||(t[3]=e=>i.handleUpdate("SEARCH_SIZE",e.target.value)),class:"w-full bg-gray-700 border border-gray-600 rounded-lg shadow-md px-4 py-2",id:"SEARCH_SIZE",placeholder:"20"},null,40,Ts),t[18]||(t[18]=(0,o.Lk)("label",{for:"CRON_TIMES",class:"block text-xs sm:text-sm font-semibold text-gray-300 mt-4"},"Cron Times:",-1)),t[19]||(t[19]=(0,o.Lk)("p",{class:"text-xs sm:text-sm text-gray-400 mb-2"},'Define when Suggestarr should run searches using a cron schedule. For example, "0 0 * * *" means checks will occur every day at midnight. Incorrect cron formats will show an error.',-1)),(0,o.Lk)("input",{type:"text",value:s.config.CRON_TIMES,onInput:t[4]||(t[4]=e=>i.handleCronInput(e.target.value)),class:"w-full bg-gray-700 border border-gray-600 rounded-lg shadow-md px-4 py-2",id:"CRON_TIMES",placeholder:"0 0 * * *"},null,40,Rs),l.cronDescription?((0,o.uX)(),(0,o.CE)("p",As,(0,p.v_)(l.cronDescription),1)):(0,o.Q3)("",!0),l.cronError?((0,o.uX)(),(0,o.CE)("p",ws,(0,p.v_)(l.cronError),1)):(0,o.Q3)("",!0),t[20]||(t[20]=(0,o.Lk)("label",{for:"SUBPATH",class:"block text-xs sm:text-sm font-semibold text-gray-300 mt-4"},"Base URL Subpath:",-1)),t[21]||(t[21]=(0,o.Lk)("p",{class:"text-xs sm:text-sm text-gray-400 mb-2"},'Specify the subpath where Suggestarr will be accessed. For example, "/suggestarr" would make Suggestarr accessible at "yourdomain.com/suggestarr". If left empty, it defaults to the root path.',-1)),(0,o.Lk)("input",{type:"text",value:s.config.SUBPATH,onInput:t[5]||(t[5]=e=>i.handleUpdate("SUBPATH",e.target.value)),class:"w-full bg-gray-700 border border-gray-600 rounded-lg shadow-md px-4 py-2",id:"SUBPATH",placeholder:"/suggestarr"},null,40,Ds),(0,o.Lk)("div",Us,[(0,o.Lk)("button",{onClick:t[6]||(t[6]=t=>e.$emit("previous-step")),class:"bg-gray-600 hover:bg-gray-500 text-white font-bold py-4 px-8 rounded-lg w-full"},"Back"),(0,o.Lk)("button",{onClick:t[7]||(t[7]=t=>e.$emit("next-step")),class:"bg-indigo-600 hover:bg-indigo-500 text-white font-bold py-4 px-8 rounded-lg w-full"},"Save")])])}var Ms=s(9160),Ps=s.n(Ms),Os={props:["config"],data(){return{cronDescription:"",cronError:""}},methods:{handleUpdate(e,t){this.$emit("update-config",e,t)},handleCronInput(e){this.handleUpdate("CRON_TIMES",e);try{const t=Ps().parseExpression(e),s=t.next().toString();this.cronDescription=`Next run: ${s}`,this.cronError=""}catch(t){this.cronDescription="",this.cronError="Invalid cron expression"}}}};const Bs=(0,r.A)(Os,[["render",Ns]]);var Fs=Bs;const Xs={key:0},Vs={key:0,class:"fas fa-spinner fa-spin mr-2"},Hs={key:1,class:"mt-6"},Ys={class:"flex items-center"},Ks=["value"],Js={key:0,class:"fas fa-spinner fa-spin"},Gs={key:1,class:"fas fa-sync-alt"},Ws={key:2,class:"mt-6"},qs={class:"flex items-center"},Qs={key:3},js={class:"grid grid-cols-1 sm:grid-cols-3 gap-4 mt-4"},zs=["onClick"],$s={key:4},Zs={class:"grid grid-cols-1 sm:grid-cols-3 gap-4 mt-4"},ea=["onClick"],ta={class:"flex justify-between mt-8 space-x-4"},sa=["disabled"];function aa(e,t,s,l,i,n){return(0,o.uX)(),(0,o.CE)("div",null,[t[19]||(t[19]=(0,o.Lk)("h3",{class:"text-sm sm:text-lg font-semibold text-gray-300"},"Plex Configuration",-1)),t[20]||(t[20]=(0,o.Lk)("p",{class:"text-xs sm:text-sm text-gray-400 mb-4"}," Login using your Plex account. ",-1)),e.isLoggedIn?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",Xs,[(0,o.Lk)("button",{onClick:t[0]||(t[0]=(...t)=>e.loginWithPlex&&e.loginWithPlex(...t)),class:"w-full"},[e.loading?((0,o.uX)(),(0,o.CE)("i",Vs)):(0,o.Q3)("",!0),t[9]||(t[9]=(0,o.eW)(" Login with Plex "))])])),e.servers.length>0?((0,o.uX)(),(0,o.CE)("div",Hs,[t[11]||(t[11]=(0,o.Lk)("label",{for:"server-selection",class:"block text-xs sm:text-sm font-semibold text-gray-300"},"Select a Plex Server and Connection:",-1)),(0,o.Lk)("div",Ys,[(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":t[1]||(t[1]=t=>e.selectedServerConnection=t),onChange:t[2]||(t[2]=(...t)=>e.updateSelectedServer&&e.updateSelectedServer(...t)),class:"w-full bg-gray-700 border border-gray-600 rounded-lg shadow-md px-4 py-2",id:"server-selection"},[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.getServerConnections(),((e,t)=>((0,o.uX)(),(0,o.CE)("option",{key:t,value:{address:e.address,port:e.port,protocol:e.protocol}},(0,p.v_)(e.serverName)+" - "+(0,p.v_)(e.address)+":"+(0,p.v_)(e.port)+" ("+(0,p.v_)(e.protocol)+") "+(0,p.v_)(e.secure?"[Secure]":"[Insecure]"),9,Ks)))),128)),t[10]||(t[10]=(0,o.Lk)("option",{value:"manual"},"Manual Configuration",-1))],544),[[a.u1,e.selectedServerConnection]]),e.manualConfiguration?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("button",{key:0,onClick:t[3]||(t[3]=(...t)=>e.fetchLibraries&&e.fetchLibraries(...t)),class:"ml-2 bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded-lg"},[e.loadingLibraries?((0,o.uX)(),(0,o.CE)("i",Js)):((0,o.uX)(),(0,o.CE)("i",Gs))]))])])):(0,o.Q3)("",!0),e.manualConfiguration||"manual"===e.selectedServer?((0,o.uX)(),(0,o.CE)("div",Ws,[t[13]||(t[13]=(0,o.Lk)("h3",{class:"text-md text-gray-300 mb-4"},"Manual Server Configuration",-1)),t[14]||(t[14]=(0,o.Lk)("label",{for:"manual-address",class:"block text-xs sm:text-sm font-semibold text-gray-300"},[(0,o.eW)("Server Address: "),(0,o.Lk)("span",{class:"text-gray-400"},"(e.g., http://192.168.1.10:32400)")],-1)),(0,o.Lk)("div",qs,[(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":t[4]||(t[4]=t=>e.manualServerAddress=t),class:"w-full bg-gray-700 border border-gray-600 rounded-lg shadow-md px-4 py-2",id:"manual-address",placeholder:"Enter server address",onInput:t[5]||(t[5]=e=>this.$emit("update-config","PLEX_API_URL",e.target.value))},null,544),[[a.Jo,e.manualServerAddress]]),(0,o.Lk)("button",{onClick:t[6]||(t[6]=(...t)=>e.fetchLibraries&&e.fetchLibraries(...t)),class:"ml-2 bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded-lg"},t[12]||(t[12]=[(0,o.Lk)("i",{class:"fas fa-sync-alt"},null,-1)]))])])):(0,o.Q3)("",!0),e.libraries.length>0?((0,o.uX)(),(0,o.CE)("div",Qs,[t[15]||(t[15]=(0,o.Lk)("p",{class:"text-sm text-gray-300 mt-4"},"Select the Plex libraries you want to include:",-1)),t[16]||(t[16]=(0,o.Lk)("span",{class:"text-gray-400 text-xs"},"(If no libraries are selected, all libraries will be included.)",-1)),(0,o.Lk)("div",js,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.libraries,(t=>((0,o.uX)(),(0,o.CE)("div",{key:t.key,onClick:s=>e.toggleLibrarySelection(t),class:(0,p.C4)([{"bg-indigo-600 border-indigo-600":e.isSelected(t.key),"bg-gray-700 border-gray-600":!e.isSelected(t.key)},"cursor-pointer p-4 border rounded-lg text-center text-white hover:bg-indigo-500"])},(0,p.v_)(t.title),11,zs)))),128))])])):(0,o.Q3)("",!0),e.users.length>0?((0,o.uX)(),(0,o.CE)("div",$s,[t[17]||(t[17]=(0,o.Lk)("p",{class:"text-sm sm:text-lg font-semibold text-gray-300 mt-4 flex items-center"},[(0,o.eW)(" Select the Plex Users you want to include "),(0,o.Lk)("span",{class:"ml-2 px-2 py-1 bg-yellow-500 text-xs text-white font-bold rounded-full"},"BETA")],-1)),t[18]||(t[18]=(0,o.Lk)("span",{class:"text-gray-400 text-xs"},"(If no users are selected, all users will be included.)",-1)),(0,o.Lk)("div",Zs,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.users,(t=>((0,o.uX)(),(0,o.CE)("div",{key:t.id,onClick:s=>e.toggleUserSelection(t),class:(0,p.C4)([{"bg-indigo-600 border-indigo-600":e.isUserSelected(t.id),"bg-gray-700 border-gray-600":!e.isUserSelected(t.id)},"cursor-pointer p-4 border rounded-lg text-center text-white hover:bg-indigo-500"])},(0,p.v_)(t.name),11,ea)))),128))])])):(0,o.Q3)("",!0),(0,o.Lk)("div",ta,[(0,o.Lk)("button",{onClick:t[7]||(t[7]=t=>e.$emit("previous-step")),class:"bg-gray-600 hover:bg-gray-500 text-white font-bold py-4 px-8 rounded-lg w-full"}," Back "),(0,o.Lk)("button",{onClick:t[8]||(t[8]=t=>e.$emit("next-step")),class:"bg-indigo-600 hover:bg-indigo-500 text-white font-bold py-4 px-8 rounded-lg w-full",disabled:e.libraries.length<=0}," Next Step ",8,sa)])])}s(7588),s(8237);var oa={props:["config"],data(){return{loading:!1,loadingLibraries:!1,servers:[],selectedServer:null,selectedServerConnection:null,libraries:[],selectedLibraries:[],manualConfiguration:!1,manualServerAddress:"",isLoggedIn:!1,users:[],selectedUsers:[]}},methods:{toggleLibrarySelection(e){const t=this.selectedLibraries.findIndex((t=>t.key===e.key));t>-1?this.selectedLibraries.splice(t,1):this.selectedLibraries.push(e),this.updateSelectedLibraries()},isSelected(e){return this.selectedLibraries.some((t=>t.key===e))},updateSelectedLibraries(){const e=this.selectedLibraries.map((e=>e.key));this.$emit("update-config","PLEX_LIBRARIES",e)},loadSelectedLibraries(){this.config.PLEX_LIBRARIES&&(this.selectedLibraries=this.libraries.filter((e=>this.config.PLEX_LIBRARIES.includes(e.key))))},toggleUserSelection(e){const t=this.selectedUsers.findIndex((t=>t.id===e.id));t>-1?this.selectedUsers.splice(t,1):this.selectedUsers.push(e),this.updateSelectedUsers()},isUserSelected(e){return this.selectedUsers.some((t=>t.id===e))},updateSelectedUsers(){const e=this.selectedUsers.map((e=>e.id));this.$emit("update-config","SELECTED_USERS",e)},loadSelectedUsers(){this.config.SELECTED_USERS&&(this.selectedUsers=this.users.filter((e=>this.config.SELECTED_USERS.includes(e.id))))},async fetchUsers(){try{const e=await this.apiRequest("/api/plex/users","post",{PLEX_API_URL:this.config.PLEX_API_URL,PLEX_TOKEN:this.config.PLEX_TOKEN});200===e.status&&e.data.users?(this.users=e.data.users,this.loadSelectedUsers()):this.$toast.error("Failed to fetch users.")}catch(e){this.$toast.error("Error fetching users.")}},async apiRequest(e,t="get",s=null){try{const a=await(0,se.A)({url:e,method:t,data:s,headers:this.config.headers});return a}catch(a){throw console.error(`API Request error: ${a.message}`),a}},async loginWithPlex(){try{this.loading=!0;const e=await this.apiRequest("/api/plex/auth","post"),{pin_id:t,auth_url:s}=e.data;window.open(s,"_blank","width=800,height=600"),this.startPolling(t)}catch(e){this.$toast.error("Error during Plex login.")}},async startPolling(e){const t=setInterval((async()=>{try{const s=await this.apiRequest(`/api/plex/check-auth/${e}`),{auth_token:a}=s.data;a&&(clearInterval(t),this.$emit("update-config","PLEX_TOKEN",a),await this.fetchPlexServers(a),this.isLoggedIn=!0)}catch(s){console.error("Error checking Plex auth status:",s)}finally{this.loading=!1}}),3e3)},async fetchPlexServers(e){try{const t=await this.apiRequest("/api/plex/servers","post",{auth_token:e});200===t.status&&t.data.servers?(this.servers=t.data.servers,this.servers.length>0&&(this.selectedServer=this.servers[0])):this.$toast.error("Failed to fetch servers.")}catch(t){this.$toast.error("Error fetching Plex servers.")}},updateSelectedServer(){if(this.libraries=[],this.users=[],"manual"===this.selectedServerConnection)this.manualConfiguration=!0;else{this.manualConfiguration=!1;const{address:e,port:t,protocol:s}=this.selectedServerConnection;this.$emit("update-config","PLEX_API_URL",`${s}://${e}:${t}`)}},getServerConnections(){return this.servers.reduce(((e,t)=>(t.connections&&t.connections.forEach((s=>{e.push({serverName:t.name,address:s.address,port:s.port,protocol:s.protocol,secure:"https"===s.protocol})})),e)),[])},async fetchLibraries(){this.loadingLibraries=!0;try{const e=await this.apiRequest("/api/plex/libraries","post",{PLEX_API_URL:this.config.PLEX_API_URL,PLEX_TOKEN:this.config.PLEX_TOKEN});200===e.status&&e.data.items?(this.libraries=e.data.items,this.loadSelectedLibraries()):this.$toast.error("Failed to fetch libraries.")}catch(e){this.$toast.error("Error fetching libraries.")}finally{this.loadingLibraries=!1,this.fetchUsers()}}},mounted(){const e=this.config.PLEX_TOKEN;e&&(this.isLoggedIn=!0,this.fetchPlexServers(e),this.fetchUsers(),this.fetchLibraries())}},la={...oa};const ia=(0,r.A)(la,[["render",aa]]);var na=ia;const ra={class:"wizard-content custom-width"},ca={class:"space-y-6"},da={key:0,class:"bg-gray-700 p-4 rounded-lg shadow-md"},ua={class:"text-gray-200"},ga=["href"],fa={key:1,class:"bg-gray-700 p-4 rounded-lg shadow-md"},pa={class:"block text-sm font-semibold text-gray-300"},ha={class:"text-gray-200"},ma=["href"],ba={class:"bg-gray-700 p-4 rounded-lg shadow-md"},La={class:"text-gray-200"},Ea=["href"],ka={class:"flex flex-col sm:flex-row sm:space-x-4"},va={class:"bg-gray-700 p-4 rounded-lg shadow-md w-full sm:w-1/2"},ya={class:"text-gray-200"},Sa={class:"bg-gray-700 p-4 rounded-lg shadow-md w-full sm:w-1/2"},Ca={class:"text-gray-200"},_a={class:"flex flex-col sm:flex-row sm:space-x-4 mt-4"},xa={class:"bg-gray-700 p-4 rounded-lg shadow-md w-full sm:w-1/2"},Ia={class:"text-gray-200"},Ta={class:"bg-gray-700 p-4 rounded-lg shadow-md w-full sm:w-1/2"},Ra={class:"text-gray-200"},Aa={class:"bg-gray-700 p-4 rounded-lg shadow-md"},wa={class:"text-gray-200"},Da={class:"bg-gray-700 p-4 rounded-lg shadow-md"},Ua={class:"text-gray-200"},Na={class:"bg-gray-700 p-4 rounded-lg shadow-md"},Ma={class:"text-gray-200"},Pa={key:0,class:"update-notification"},Oa={class:"text-yellow-400 font-semibold"},Ba={class:"flex space-x-4 mt-8"},Fa={key:0,class:"fas fa-spinner fa-spin"},Xa={key:1},Va={key:0,class:"fixed inset-0 flex items-center justify-center bg-gray-900 bg-opacity-75 z-50"},Ha={class:"bg-gray-800 p-6 rounded-lg shadow-lg border border-gray-700 max-w-md w-full"},Ya={class:"flex justify-end mt-6 space-x-4"};function Ka(e,t,s,a,l,i){const n=(0,o.g2)("Footer");return(0,o.uX)(),(0,o.CE)("div",{class:"wizard-container",style:(0,p.Tr)({backgroundImage:"url("+l.backgroundImageUrl+")"})},[(0,o.Lk)("div",ra,[t[24]||(t[24]=(0,o.Lk)("a",{href:"https://github.com/giuseppe99barchetta/SuggestArr",target:"_blank"},[(0,o.Lk)("img",{src:h,alt:"SuggestArr Logo",class:"attached-logo mb-6 text-center"})],-1)),(0,o.Lk)("div",ca,["plex"===s.config.SELECTED_SERVICE?((0,o.uX)(),(0,o.CE)("div",da,[t[7]||(t[7]=(0,o.Lk)("label",{class:"block text-sm font-semibold text-gray-300"},"Plex URL:",-1)),(0,o.Lk)("p",ua,[(0,o.eW)((0,p.v_)(s.config.PLEX_API_URL)+" ",1),(0,o.Lk)("a",{href:s.config.PLEX_API_URL,target:"_blank",class:"text-blue-400 hover:underline ml-1"},t[6]||(t[6]=[(0,o.Lk)("i",{class:"fas fa-external-link-alt"},null,-1)]),8,ga)])])):((0,o.uX)(),(0,o.CE)("div",fa,[(0,o.Lk)("label",pa,(0,p.v_)(i.capitalizeFirstLetter(s.config.SELECTED_SERVICE))+" URL:",1),(0,o.Lk)("p",ha,[(0,o.eW)((0,p.v_)(s.config.JELLYFIN_API_URL)+" ",1),(0,o.Lk)("a",{href:s.config.JELLYFIN_API_URL,target:"_blank",class:"text-blue-400 hover:underline ml-1"},t[8]||(t[8]=[(0,o.Lk)("i",{class:"fas fa-external-link-alt"},null,-1)]),8,ma)])])),(0,o.Lk)("div",ba,[t[10]||(t[10]=(0,o.Lk)("label",{class:"block text-sm font-semibold text-gray-300"},"Jellyseer/Overseer URL:",-1)),(0,o.Lk)("p",La,[(0,o.eW)((0,p.v_)(s.config.SEER_API_URL)+" ",1),(0,o.Lk)("a",{href:s.config.SEER_API_URL,target:"_blank",class:"text-blue-400 hover:underline ml-1"},t[9]||(t[9]=[(0,o.Lk)("i",{class:"fas fa-external-link-alt"},null,-1)]),8,Ea)])]),(0,o.Lk)("div",ka,[(0,o.Lk)("div",va,[t[11]||(t[11]=(0,o.Lk)("label",{class:"block text-sm font-semibold text-gray-300"},"Max Similar Movies:",-1)),(0,o.Lk)("p",ya,(0,p.v_)(s.config.MAX_SIMILAR_MOVIE),1)]),(0,o.Lk)("div",Sa,[t[12]||(t[12]=(0,o.Lk)("label",{class:"block text-sm font-semibold text-gray-300"},"Max Similar TV Shows:",-1)),(0,o.Lk)("p",Ca,(0,p.v_)(s.config.MAX_SIMILAR_TV),1)])]),(0,o.Lk)("div",_a,[(0,o.Lk)("div",xa,[t[13]||(t[13]=(0,o.Lk)("label",{class:"block text-sm font-semibold text-gray-300"},"Max new Content for each content:",-1)),(0,o.Lk)("p",Ia,(0,p.v_)(s.config.MAX_CONTENT_CHECKS),1)]),(0,o.Lk)("div",Ta,[t[14]||(t[14]=(0,o.Lk)("label",{class:"block text-sm font-semibold text-gray-300"},"Search Size:",-1)),(0,o.Lk)("p",Ra,(0,p.v_)(s.config.SEARCH_SIZE),1)])]),(0,o.Lk)("div",Aa,[t[15]||(t[15]=(0,o.Lk)("label",{class:"block text-sm font-semibold text-gray-300"},"Current Database Type:",-1)),(0,o.Lk)("p",wa,(0,p.v_)(l.db_type),1)]),(0,o.Lk)("div",Da,[t[16]||(t[16]=(0,o.Lk)("label",{class:"block text-sm font-semibold text-gray-300"},"Next Cron Run in:",-1)),(0,o.Lk)("p",Ua,(0,p.v_)(l.nextCronRun),1)]),(0,o.Lk)("div",Na,[t[18]||(t[18]=(0,o.Lk)("label",{class:"block text-sm font-semibold text-gray-300"},"Current SuggestArr Version:",-1)),(0,o.Lk)("p",Ma,(0,p.v_)(l.currentVersion),1),l.isUpdateAvailable?((0,o.uX)(),(0,o.CE)("div",Pa,[(0,o.Lk)("span",Oa,"New Version Available: "+(0,p.v_)(l.latestVersion),1),t[17]||(t[17]=(0,o.Lk)("a",{href:"https://github.com/giuseppe99barchetta/SuggestArr/releases/latest",target:"_blank",class:"text-blue-400 hover:underline ml-2"},"Update Now",-1))])):(0,o.Q3)("",!0)])]),(0,o.Lk)("div",Ba,[(0,o.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>i.goToSettings&&i.goToSettings(...e)),class:"w-full bg-indigo-600 hover:bg-indigo-500 text-white font-bold py-4 px-8 rounded-lg shadow-lg transition-transform transform hover:scale-105"},t[19]||(t[19]=[(0,o.Lk)("i",{class:"fas fa-cog mr-2"},null,-1),(0,o.eW)(" Go to Settings ")])),(0,o.Lk)("button",{onClick:t[1]||(t[1]=e=>l.showResetPopup=!0),class:"w-full bg-yellow-600 hover:bg-yellow-500 text-white font-bold py-4 px-8 rounded-lg shadow-lg transition-transform transform hover:scale-105"},t[20]||(t[20]=[(0,o.Lk)("i",{class:"fas fa-trash mr-2"},null,-1),(0,o.eW)(" Reset Configuration ")]))]),(0,o.Lk)("button",{onClick:t[2]||(t[2]=(...e)=>i.forceRun&&i.forceRun(...e)),class:"bg-red-600 hover:bg-red-500 text-white font-bold py-4 px-8 rounded-lg w-full mt-4 shadow-lg transition-transform transform hover:scale-105"},[l.isRunning?((0,o.uX)(),(0,o.CE)("i",Fa)):((0,o.uX)(),(0,o.CE)("span",Xa,"Run Now"))]),(0,o.Lk)("button",{onClick:t[3]||(t[3]=(...e)=>i.goToRequestsPage&&i.goToRequestsPage(...e)),class:"bg-blue-600 hover:bg-blue-500 text-white font-bold py-4 px-8 rounded-lg w-full mt-4 shadow-lg transition-transform transform hover:scale-105"},t[21]||(t[21]=[(0,o.Lk)("i",{class:"fas fa-list-alt mr-2"},null,-1),(0,o.eW)(" View All Requests ")])),l.showResetPopup?((0,o.uX)(),(0,o.CE)("div",Va,[(0,o.Lk)("div",Ha,[t[22]||(t[22]=(0,o.Lk)("h3",{class:"text-xl font-semibold text-gray-200"},"Confirm Reset",-1)),t[23]||(t[23]=(0,o.Lk)("p",{class:"mt-4 text-gray-400"},"Are you sure you want to reset the configuration? This action cannot be undone.",-1)),(0,o.Lk)("div",Ya,[(0,o.Lk)("button",{onClick:t[4]||(t[4]=e=>l.showResetPopup=!1),class:"bg-gray-600 hover:bg-gray-500 text-white font-bold py-2 px-4 rounded-lg"},"Cancel"),(0,o.Lk)("button",{onClick:t[5]||(t[5]=(...e)=>i.confirmReset&&i.confirmReset(...e)),class:"bg-red-600 hover:bg-red-500 text-white font-bold py-2 px-4 rounded-lg"},"Confirm")])])])):(0,o.Q3)("",!0),(0,o.bF)(n)])],4)}var Ja={rE:"v1.0.21"},Ga={components:{Footer:we},mixins:[ae],props:{config:{type:Object,required:!0}},data(){return{isRunning:!1,nextCronRun:"",showResetPopup:!1,backgroundImageUrl:"",currentVersion:Ja.rE,latestVersion:"",isUpdateAvailable:!1,db_type:"mysql"===this.config.DB_TYPE?"MySQL":"postgres"===this.config.DB_TYPE?"PostgreSQL":"SQLite"}},mounted(){this.checkForUpdates(),this.calculateNextCronRun(),this.config.TMDB_API_KEY?this.startBackgroundImageRotation(De,this.config.TMDB_API_KEY):this.startDefaultImageRotation()},methods:{async checkForUpdates(){try{const e=await se.A.get("https://api.github.com/repos/giuseppe99barchetta/SuggestArr/releases/latest");this.latestVersion=e.data.tag_name;const[t,s,a]=this.currentVersion.replace("v","").split(".").map(Number),[o,l,i]=this.latestVersion.replace("v","").split(".").map(Number);this.isUpdateAvailable=o>t||o===t&&l>s||o===t&&l===s&&i>a,this.isUpdateAvailable&&this.$toast.open({message:"New version of SuggestArr available!",pauseOnHover:!0,duration:5e3})}catch(e){console.error("Failed to check for updates:",e)}},capitalizeFirstLetter(e){return e?e.charAt(0).toUpperCase()+e.slice(1).toLowerCase():""},calculateNextCronRun(){try{const e=Ps().parseExpression(this.config.CRON_TIMES),t=e.next(),s=new Date,a=t.getTime()-s.getTime(),o=Math.floor(a/36e5),l=Math.floor(a%36e5/6e4),i=Math.floor(a%6e4/1e3);this.nextCronRun=`${o}h ${l}m ${i}s`}catch(e){console.error("Error parsing cron expression:",e),this.nextCronRun="Error calculating next run time"}},goToSettings(){this.$router.push({name:"Settings"})},forceRun(){this.isRunning=!0,se.A.post("/api/automation/force_run",this.config).then(this.$toast.open({message:"Process started in background!",pauseOnHover:!0,duration:5e3})).catch((e=>{alert(`Error: ${e.response?e.response.data.message:e.message}`)})).finally((()=>{this.isRunning=!1}))},confirmReset(){this.showResetPopup=!1,se.A.post("/api/config/reset").then(window.location.reload()).catch((e=>{alert(`Error resetting configuration: ${e.response?e.response.data.message:e.message}`)}))},goToRequestsPage(){this.$router.push({name:"RequestsPage",query:{tmdbApiKey:this.config.TMDB_API_KEY}})}},beforeUnmount(){this.stopBackgroundImageRotation()}};const Wa=(0,r.A)(Ga,[["render",Ka],["__scopeId","data-v-295d2b0b"]]);var qa=Wa;const Qa={class:"flex flex-col sm:flex-row space-y-4 sm:space-y-0 sm:space-x-4"},ja={class:"w-full sm:w-1/2"},za=["value"],$a={key:0,class:"text-red-500 text-xs"},Za={class:"w-full sm:w-1/2"},eo=["value"],to={key:0,class:"text-red-500 text-xs"},so={class:"space-y-4 mt-4 pt-4"},ao={class:"flex items-center justify-between bg-gray-800 p-4 rounded-lg"},oo={class:"switch"},lo=["checked"],io={class:"flex items-center justify-between bg-gray-800 p-4 rounded-lg"},no={class:"switch"},ro=["checked"],co={class:"flex items-center justify-between bg-gray-800 p-4 rounded-lg"},uo={class:"switch"},go=["checked"],fo={class:"flex flex-col sm:flex-row space-y-4 sm:space-y-0 sm:space-x-4 mt-4"},po={class:"w-full"},ho=["value"],mo={key:0,class:"text-red-500 text-xs"},bo={class:"mt-4 flex flex-wrap items-center"},Lo={class:"w-full sm:w-1/2 pr-2"},Eo={class:"w-full sm:w-1/2 pl-2 mt-4 sm:mt-0"},ko={class:"flex flex-col sm:flex-row space-y-4 sm:space-y-0 sm:space-x-4 mt-4"},vo={class:"w-full sm:w-1/2"},yo={class:"w-full sm:w-1/2"},So=["value"],Co={key:0,class:"text-red-500 text-xs"},_o={class:"flex flex-col sm:flex-row justify-between mt-8 space-y-4 sm:space-y-0 sm:space-x-4"},xo=["disabled"];function Io(e,t,s,a,l,i){const n=(0,o.g2)("vue-multiselect");return(0,o.uX)(),(0,o.CE)("div",null,[t[33]||(t[33]=(0,o.Lk)("h3",{class:"text-sm sm:text-lg font-semibold text-gray-300"},"Advanced Filter Configuration",-1)),t[34]||(t[34]=(0,o.Lk)("p",{class:"text-xs sm:text-sm text-gray-400 mb-4"}," Set up advanced filters to customize your content recommendations. Each field below allows you to narrow down suggestions based on specific criteria. All fields are optional, so feel free to adjust only those relevant to your preferences. ",-1)),(0,o.Lk)("div",Qa,[(0,o.Lk)("div",ja,[t[13]||(t[13]=(0,o.Lk)("label",{for:"FILTER_TMDB_THRESHOLD",class:"block text-xs sm:text-sm font-semibold text-gray-300"}," TMDB Rating Threshold: ",-1)),t[14]||(t[14]=(0,o.Lk)("p",{class:"text-xs text-gray-400 mb-2"}," Specify the minimum average rating (out of 100) on TMDB that content must have to be included in your recommendations. For example, a value of 70 will only include content rated 70/100 or higher. ",-1)),(0,o.Lk)("input",{type:"number",value:s.config.FILTER_TMDB_THRESHOLD,onInput:t[0]||(t[0]=e=>i.validateThreshold(e.target.value)),class:"w-full bg-gray-700 border border-gray-600 rounded-lg shadow-md px-4 py-2",id:"FILTER_TMDB_THRESHOLD",placeholder:"60"},null,40,za),l.errors.FILTER_TMDB_THRESHOLD?((0,o.uX)(),(0,o.CE)("span",$a,(0,p.v_)(l.errors.FILTER_TMDB_THRESHOLD),1)):(0,o.Q3)("",!0)]),(0,o.Lk)("div",Za,[t[15]||(t[15]=(0,o.Lk)("label",{for:"FILTER_TMDB_MIN_VOTES",class:"block text-xs sm:text-sm font-semibold text-gray-300"}," TMDB Minimum Votes: ",-1)),t[16]||(t[16]=(0,o.Lk)("p",{class:"text-xs text-gray-400 mb-2"}," Set the minimum number of votes a movie or show must have on TMDB to be considered. For example, a value of 50 will exclude content with fewer than 50 votes. ",-1)),(0,o.Lk)("input",{type:"number",value:s.config.FILTER_TMDB_MIN_VOTES,onInput:t[1]||(t[1]=e=>i.validateMinVotes(e.target.value)),class:"w-full bg-gray-700 border border-gray-600 rounded-lg shadow-md px-4 py-2",id:"FILTER_TMDB_MIN_VOTES",placeholder:"20"},null,40,eo),l.errors.FILTER_TMDB_MIN_VOTES?((0,o.uX)(),(0,o.CE)("span",to,(0,p.v_)(l.errors.FILTER_TMDB_MIN_VOTES),1)):(0,o.Q3)("",!0)])]),(0,o.Lk)("div",null,[(0,o.Lk)("div",so,[(0,o.Lk)("div",ao,[t[18]||(t[18]=(0,o.Lk)("div",{class:"flex-grow pr-4"},[(0,o.Lk)("h4",{class:"text-sm font-semibold text-gray-200"},"Include content with missing ratings or votes"),(0,o.Lk)("p",{class:"text-xs text-gray-400 mt-1"},"Show recommendations even without rating information")],-1)),(0,o.Lk)("label",oo,[(0,o.Lk)("input",{type:"checkbox",checked:s.config.FILTER_INCLUDE_NO_RATING,onChange:t[2]||(t[2]=e=>i.handleUpdate("FILTER_INCLUDE_NO_RATING",e.target.checked))},null,40,lo),t[17]||(t[17]=(0,o.Lk)("span",{class:"slider round"},null,-1))])]),(0,o.Lk)("div",io,[t[20]||(t[20]=(0,o.Lk)("div",{class:"flex-grow pr-4"},[(0,o.Lk)("h4",{class:"text-sm font-semibold text-gray-200"},"Exclude downloaded content"),(0,o.Lk)("p",{class:"text-xs text-gray-400 mt-1"},"Skip suggesting items already in your library")],-1)),(0,o.Lk)("label",no,[(0,o.Lk)("input",{type:"checkbox",checked:s.config.EXCLUDE_DOWNLOADED,onChange:t[3]||(t[3]=e=>i.handleUpdate("EXCLUDE_DOWNLOADED",e.target.checked))},null,40,ro),t[19]||(t[19]=(0,o.Lk)("span",{class:"slider round"},null,-1))])]),(0,o.Lk)("div",co,[t[22]||(t[22]=(0,o.Lk)("div",{class:"flex-grow pr-4"},[(0,o.Lk)("h4",{class:"text-sm font-semibold text-gray-200"},"Exclude watched content"),(0,o.Lk)("p",{class:"text-xs text-gray-400 mt-1"},"Avoid recommending shows or movies you've already requested")],-1)),(0,o.Lk)("label",uo,[(0,o.Lk)("input",{type:"checkbox",checked:s.config.EXCLUDE_REQUESTED,onChange:t[4]||(t[4]=e=>i.handleUpdate("EXCLUDE_REQUESTED",e.target.checked))},null,40,go),t[21]||(t[21]=(0,o.Lk)("span",{class:"slider round"},null,-1))])])])]),t[35]||(t[35]=(0,o.Lk)("label",{for:"FILTER_GENRES_EXCLUDE",class:"block text-xs sm:text-sm font-semibold text-gray-300 mt-4"}," Exclude Genres: ",-1)),t[36]||(t[36]=(0,o.Lk)("p",{class:"text-xs text-gray-400 mb-2"},' Select genres you do not want to see in your recommendations. For instance, excluding "Horror" will prevent horror movies or shows from being suggested. ',-1)),(0,o.bF)(n,{modelValue:l.selectedGenres,"onUpdate:modelValue":[t[5]||(t[5]=e=>l.selectedGenres=e),i.updateGenres],options:l.genres,"track-by":"id",label:"name",multiple:"",placeholder:"No excluded genre",class:"w-full bg-gray-700 border border-gray-600 rounded-lg shadow-md multiselect-genres",id:"FILTER_GENRES_EXCLUDE"},null,8,["modelValue","options","onUpdate:modelValue"]),(0,o.Lk)("div",fo,[(0,o.Lk)("div",po,[t[23]||(t[23]=(0,o.Lk)("label",{for:"FILTER_NUM_SEASONS",class:"block text-xs sm:text-sm font-semibold text-gray-300"}," Number of Seasons: ",-1)),t[24]||(t[24]=(0,o.Lk)("p",{class:"text-xs text-gray-400 mb-2"},' Limit the number of seasons for a TV series. Set to "0" to include all seasons. ',-1)),(0,o.Lk)("input",{type:"number",value:s.config.FILTER_NUM_SEASONS,onInput:t[6]||(t[6]=e=>i.validateNumSeasons(e.target.value)),class:"w-full bg-gray-700 border border-gray-600 rounded-lg shadow-md px-4 py-2",id:"FILTER_NUM_SEASONS",placeholder:"0"},null,40,ho),l.errors.FILTER_NUM_SEASONS?((0,o.uX)(),(0,o.CE)("span",mo,(0,p.v_)(l.errors.FILTER_NUM_SEASONS),1)):(0,o.Q3)("",!0)])]),(0,o.Lk)("div",bo,[(0,o.Lk)("div",Lo,[t[25]||(t[25]=(0,o.Lk)("label",{for:"FILTER_REGION_PROVIDER",class:"block text-xs sm:text-sm font-semibold text-gray-300"}," Select Region: ",-1)),t[26]||(t[26]=(0,o.Lk)("p",{class:"text-xs text-gray-400 mb-2"}," Choose the region to filter streaming services available in that area. ",-1)),(0,o.bF)(n,{modelValue:l.selectedRegion,"onUpdate:modelValue":[t[7]||(t[7]=e=>l.selectedRegion=e),i.updateRegion],options:l.regions,"track-by":"iso_3166_1",label:"english_name",placeholder:"Select a region",class:"w-full bg-gray-700 border border-gray-600 rounded-lg shadow-md multiselect-region",id:"FILTER_REGION_PROVIDER"},null,8,["modelValue","options","onUpdate:modelValue"])]),(0,o.Lk)("div",Eo,[t[27]||(t[27]=(0,o.Lk)("label",{for:"FILTER_STREAMING_SERVICES",class:"block text-xs sm:text-sm font-semibold text-gray-300"}," Exclude Streaming Services: ",-1)),t[28]||(t[28]=(0,o.Lk)("p",{class:"text-xs text-gray-400 mb-2"}," Select streaming services to exclude from your recommendations. ",-1)),(0,o.bF)(n,{modelValue:l.selectedStreamingServices,"onUpdate:modelValue":[t[8]||(t[8]=e=>l.selectedStreamingServices=e),i.updateStreamingServices],options:l.streamingServices,"track-by":"provider_id",label:"provider_name",multiple:"",placeholder:"No excluded service",class:"w-full bg-gray-700 border border-gray-600 rounded-lg shadow-md multiselect-services",id:"FILTER_STREAMING_SERVICES"},null,8,["modelValue","options","onUpdate:modelValue"])])]),(0,o.Lk)("div",ko,[(0,o.Lk)("div",vo,[t[29]||(t[29]=(0,o.Lk)("label",{for:"FILTER_LANGUAGE",class:"block text-xs sm:text-sm font-semibold text-gray-300"}," Original Language of Content: ",-1)),t[30]||(t[30]=(0,o.Lk)("p",{class:"text-xs text-gray-400 mb-2"},' Choose the preferred original language(s) of the content. For example, selecting "English" will prioritize content originally produced in English. ',-1)),(0,o.bF)(n,{modelValue:l.selectedLanguages,"onUpdate:modelValue":[t[9]||(t[9]=e=>l.selectedLanguages=e),i.updateLanguages],options:l.languages,"track-by":"iso_639_1",label:"english_name",multiple:"",placeholder:"No preferred language",class:"w-full bg-gray-700 border border-gray-600 rounded-lg shadow-md multiselect-languages",id:"FILTER_LANGUAGE"},null,8,["modelValue","options","onUpdate:modelValue"])]),(0,o.Lk)("div",yo,[t[31]||(t[31]=(0,o.Lk)("label",{for:"FILTER_RELEASE_YEAR",class:"block text-xs sm:text-sm font-semibold text-gray-300"}," Release Year: ",-1)),t[32]||(t[32]=(0,o.Lk)("p",{class:"text-xs text-gray-400 mb-2"},' Specify the earliest release year for content. For instance, entering "2020" will include content released in 2020 or later. ',-1)),(0,o.Lk)("input",{type:"number",value:s.config.FILTER_RELEASE_YEAR,onFocusout:t[10]||(t[10]=e=>i.validateReleaseYear(e.target.value)),class:"w-full bg-gray-700 border border-gray-600 rounded-lg shadow-md px-4 py-2",id:"FILTER_RELEASE_YEAR",placeholder:"2000"},null,40,So),l.errors.FILTER_RELEASE_YEAR?((0,o.uX)(),(0,o.CE)("span",Co,(0,p.v_)(l.errors.FILTER_RELEASE_YEAR),1)):(0,o.Q3)("",!0)])]),(0,o.Lk)("div",_o,[(0,o.Lk)("button",{onClick:t[11]||(t[11]=t=>e.$emit("previous-step")),class:"bg-gray-600 hover:bg-gray-500 text-white font-bold py-4 px-8 rounded-lg w-full"},"Back"),(0,o.Lk)("button",{onClick:t[12]||(t[12]=(...e)=>i.submit&&i.submit(...e)),disabled:i.hasErrors,class:"bg-indigo-600 hover:bg-indigo-500 text-white font-bold py-4 px-8 rounded-lg w-full"},"Next",8,xo)])])}var To=s(5877),Ro={components:{"vue-multiselect":To.Ay},props:["config"],data(){return{genres:[],selectedGenres:this.config.FILTER_GENRES_EXCLUDE||[],languages:[],selectedLanguages:this.config.FILTER_LANGUAGE||[],regions:[],selectedRegion:this.config.FILTER_REGION_PROVIDER||null,streamingServices:[],selectedStreamingServices:this.config.FILTER_STREAMING_SERVICES||[],errors:{FILTER_TMDB_THRESHOLD:"",FILTER_TMDB_MIN_VOTES:"",FILTER_RELEASE_YEAR:""}}},computed:{hasErrors(){return Object.values(this.errors).some((e=>""!==e))}},methods:{handleUpdate(e,t){this.$emit("update-config",e,t)},async fetchGenres(){try{const e=await se.A.get(`https://api.themoviedb.org/3/genre/movie/list?api_key=${this.config.TMDB_API_KEY}`);this.genres=e.data.genres}catch(e){console.error("Error fetching genres:",e)}},async fetchLanguages(){try{const e=await se.A.get(`https://api.themoviedb.org/3/configuration/languages?api_key=${this.config.TMDB_API_KEY}`);this.languages=e.data}catch(e){console.error("Error fetching languages:",e)}},async fetchRegions(){try{const e=await se.A.get(`https://api.themoviedb.org/3/watch/providers/regions?api_key=${this.config.TMDB_API_KEY}`);this.regions=e.data.results}catch(e){console.error("Error fetching regions:",e)}},async fetchStreamingServices(){if(!this.selectedRegion)return;const e=this.selectedRegion?.iso_3166_1;try{const t=await se.A.get(`https://api.themoviedb.org/3/watch/providers/movie?api_key=${this.config.TMDB_API_KEY}&watch_region=${e}`);this.streamingServices=t.data.results}catch(t){console.error("Error fetching streaming services:",t)}},updateLanguages(e){this.handleUpdate("FILTER_LANGUAGE",e.filter((e=>e.iso_639_1&&e.english_name)).map((e=>({id:e.iso_639_1,english_name:e.english_name}))))},updateGenres(e){this.handleUpdate("FILTER_GENRES_EXCLUDE",e.map((e=>({id:e.id,name:e.name}))))},updateRegion(e){this.handleUpdate("FILTER_REGION_PROVIDER",e?e.iso_3166_1:null)},updateStreamingServices(e){this.handleUpdate("FILTER_STREAMING_SERVICES",e.map((e=>({provider_id:e.provider_id,provider_name:e.provider_name}))))},validateThreshold(e){e<0||e>100?this.errors.FILTER_TMDB_THRESHOLD="Rating must be between 0 and 100.":(this.errors.FILTER_TMDB_THRESHOLD="",this.handleUpdate("FILTER_TMDB_THRESHOLD",e))},validateMinVotes(e){e<0?this.errors.FILTER_TMDB_MIN_VOTES="Minimum votes cannot be negative.":(this.errors.FILTER_TMDB_MIN_VOTES="",this.handleUpdate("FILTER_TMDB_MIN_VOTES",e))},validateReleaseYear(e){const t=parseInt(e,10),s=(new Date).getFullYear();isNaN(t)||t<1900||t>s?this.errors.FILTER_RELEASE_YEAR=`Year must be between 1900 and ${s}.`:(this.errors.FILTER_RELEASE_YEAR="",this.handleUpdate("FILTER_RELEASE_YEAR",e))},validateNumSeasons(e){e<0?this.errors.FILTER_NUM_SEASONS="Seasons count must be at least 0 to select all seasons.":(this.errors.FILTER_NUM_SEASONS="",this.handleUpdate("FILTER_NUM_SEASONS",e))},submit(){this.hasErrors||this.$emit("next-step")}},watch:{regions(e){const t=e.find((e=>e.iso_3166_1===this.config.FILTER_REGION_PROVIDER));this.selectedRegion=t||null},selectedRegion(){this.fetchStreamingServices()}},mounted(){this.fetchGenres(),this.fetchLanguages(),this.fetchRegions()}};const Ao=(0,r.A)(Ro,[["render",Io]]);var wo=Ao;const Do={key:0},Uo=["value"],No=["value"],Mo=["value"],Po=["value"],Oo=["value"],Bo={key:0,class:"text-xs sm:text-sm text-red-500 mt-2"},Fo={key:1,class:"text-xs sm:text-sm text-green-500 mt-2"},Xo={class:"flex justify-between mt-4"},Vo={class:"flex justify-between mt-8 space-x-4"},Ho=["disabled"];function Yo(e,t,s,l,i,n){return(0,o.uX)(),(0,o.CE)("div",null,[t[23]||(t[23]=(0,o.Lk)("h3",{class:"text-sm sm:text-lg font-semibold text-gray-300"},"Database Configuration",-1)),t[24]||(t[24]=(0,o.Lk)("p",{class:"text-xs sm:text-sm text-gray-400 mb-4"},"Configure the database settings below to connect to your preferred database (PostgreSQL, MySQL/MariaDB, or SQLite). By default, SQLite is used for the standard configuration.",-1)),t[25]||(t[25]=(0,o.Lk)("label",{for:"DB_TYPE",class:"block text-xs sm:text-sm font-semibold text-gray-300"},"Database Type:",-1)),t[26]||(t[26]=(0,o.Lk)("p",{class:"text-xs sm:text-sm text-gray-400 mb-2"},"Select the database to store request made from SuggestArr.",-1)),(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>s.config.DB_TYPE=e),onChange:t[1]||(t[1]=e=>n.handleUpdate("DB_TYPE",s.config.DB_TYPE)),class:"w-full bg-gray-700 border border-gray-600 rounded-lg shadow-md px-4 py-2"},t[11]||(t[11]=[(0,o.Lk)("option",{value:"sqlite"},"SQLite (Default)",-1),(0,o.Lk)("option",{value:"postgres"},"PostgreSQL",-1),(0,o.Lk)("option",{value:"mysql"},"MySQL/MariaDB",-1)]),544),[[a.u1,s.config.DB_TYPE]]),"sqlite"!==s.config.DB_TYPE?((0,o.uX)(),(0,o.CE)("div",Do,[t[16]||(t[16]=(0,o.Lk)("label",{for:"DB_HOST",class:"block text-xs sm:text-sm font-semibold text-gray-300 mt-4"},"Database Host:",-1)),t[17]||(t[17]=(0,o.Lk)("p",{class:"text-xs sm:text-sm text-gray-400 mb-2"},"Enter the database host address",-1)),(0,o.Lk)("input",{type:"text",value:s.config.DB_HOST,onInput:t[2]||(t[2]=e=>n.handleUpdate("DB_HOST",e.target.value)),class:"w-full bg-gray-700 border border-gray-600 rounded-lg shadow-md px-4 py-2",id:"DB_HOST",placeholder:"localhost"},null,40,Uo),t[18]||(t[18]=(0,o.Lk)("label",{for:"DB_PORT",class:"block text-xs sm:text-sm font-semibold text-gray-300 mt-4"},"Database Port:",-1)),t[19]||(t[19]=(0,o.Lk)("p",{class:"text-xs sm:text-sm text-gray-400 mb-2"},"Enter the port number for the database. Default for PostgreSQL is 5432, MySQL/MariaDB is 3306.",-1)),(0,o.Lk)("input",{type:"number",value:s.config.DB_PORT,onInput:t[3]||(t[3]=e=>n.handleUpdate("DB_PORT",e.target.value)),class:"w-full bg-gray-700 border border-gray-600 rounded-lg shadow-md px-4 py-2",id:"DB_PORT",placeholder:"5432"},null,40,No),(0,o.Lk)("form",{onSubmit:t[6]||(t[6]=(0,a.D$)(((...t)=>e.handleSubmit&&e.handleSubmit(...t)),["prevent"]))},[t[12]||(t[12]=(0,o.Lk)("label",{for:"DB_USER",class:"block text-xs sm:text-sm font-semibold text-gray-300 mt-4"},"Database User:",-1)),t[13]||(t[13]=(0,o.Lk)("p",{class:"text-xs sm:text-sm text-gray-400 mb-2"},"Enter the username used to connect to your database.",-1)),(0,o.Lk)("input",{type:"text",value:s.config.DB_USER,onInput:t[4]||(t[4]=e=>n.handleUpdate("DB_USER",e.target.value)),class:"w-full bg-gray-700 border border-gray-600 rounded-lg shadow-md px-4 py-2",id:"DB_USER",placeholder:"root",autocomplete:"username"},null,40,Mo),t[14]||(t[14]=(0,o.Lk)("label",{for:"DB_PASSWORD",class:"block text-xs sm:text-sm font-semibold text-gray-300 mt-4"},"Database Password:",-1)),t[15]||(t[15]=(0,o.Lk)("p",{class:"text-xs sm:text-sm text-gray-400 mb-2"},"Enter the password for your database user.",-1)),(0,o.Lk)("input",{type:"password",value:s.config.DB_PASSWORD,onInput:t[5]||(t[5]=e=>n.handleUpdate("DB_PASSWORD",e.target.value)),class:"w-full bg-gray-700 border border-gray-600 rounded-lg shadow-md px-4 py-2",id:"DB_PASSWORD",placeholder:"password",autocomplete:"new-password"},null,40,Po)],32),t[20]||(t[20]=(0,o.Lk)("label",{for:"DB_NAME",class:"block text-xs sm:text-sm font-semibold text-gray-300 mt-4"},"Database Name:",-1)),t[21]||(t[21]=(0,o.Lk)("p",{class:"text-xs sm:text-sm text-gray-400 mb-2"},"Enter the name of the database you wish to connect to.",-1)),t[22]||(t[22]=(0,o.Lk)("p",{class:"text-xs sm:text-sm font-bold text-yellow-400 mb-2"},[(0,o.Lk)("strong",null,"Important:"),(0,o.eW)(" The database must be created before connecting. ")],-1)),(0,o.Lk)("input",{type:"text",value:s.config.DB_NAME,onInput:t[7]||(t[7]=e=>n.handleUpdate("DB_NAME",e.target.value)),class:"w-full bg-gray-700 border border-gray-600 rounded-lg shadow-md px-4 py-2",id:"DB_NAME",placeholder:"suggestarr"},null,40,Oo),i.dbError?((0,o.uX)(),(0,o.CE)("p",Bo,(0,p.v_)(i.dbError),1)):(0,o.Q3)("",!0),i.dbSuccess?((0,o.uX)(),(0,o.CE)("p",Fo,(0,p.v_)(i.dbSuccess),1)):(0,o.Q3)("",!0),(0,o.Lk)("div",Xo,[(0,o.Lk)("button",{onClick:t[8]||(t[8]=(...e)=>n.testConnection&&n.testConnection(...e)),class:"bg-green-600 hover:bg-green-500 text-white font-bold py-4 px-8 rounded-lg w-full"},(0,p.v_)(i.buttonText),1)])])):(0,o.Q3)("",!0),(0,o.Lk)("div",Vo,[(0,o.Lk)("button",{onClick:t[9]||(t[9]=t=>e.$emit("previous-step")),class:"bg-gray-600 hover:bg-gray-500 text-white font-bold py-4 px-8 rounded-lg w-full"},"Back"),(0,o.Lk)("button",{onClick:t[10]||(t[10]=t=>e.$emit("next-step")),disabled:!i.isTestSuccessful,class:"bg-indigo-600 hover:bg-indigo-500 text-white font-bold py-4 px-8 rounded-lg w-full"},"Next",8,Ho)])])}var Ko={props:["config"],data(){return{dbError:"",dbSuccess:"",buttonText:"Test Connection",isTestSuccessful:!0}},created(){this.config.DB_TYPE||(this.config.DB_TYPE="sqlite",this.isTestSuccessful=!0)},watch:{isTested(e){this.isNextDisabled=!e&&"sqlite"!==this.config.DB_TYPE}},methods:{handleUpdate(e,t){this.$emit("update-config",e,t),console.log(e,t),console.log("DB_TYPE"==e&&"sqlite"==t),this.isTestSuccessful="DB_TYPE"==e&&"sqlite"==t},async testConnection(){this.dbError="",this.buttonText="Testing...";try{const e=await se.A.post("/api/config/test-db-connection",this.config);"success"==e.data.status?(this.buttonText="Connection Successful!",this.isTestSuccessful=!0):(this.dbError="Failed to connect to the database.",this.buttonText="Test Connection",this.isTestSuccessful=!1)}catch(e){this.dbError="Error connecting to the database: "+e.message,this.buttonText="Test Connection",this.isTestSuccessful=!1}}}};const Jo=(0,r.A)(Ko,[["render",Yo]]);var Go=Jo,Wo={components:{Footer:we,ConfigSummary:qa,TmdbConfig:yt,JellyfinConfig:jt,SeerConfig:vs,AdditionalSettings:Fs,MediaServiceSelection:at,PlexConfig:na,ContentFilterSettings:wo,DbConfig:Go},data(){return{showWelcome:!0,setupMode:"quick",currentStep:1,config:this.getInitialConfig(),backgroundImageUrl:"",intervalId:null,defaultImages:["/images/default1.jpg","/images/default2.jpg","/images/default3.jpg"],currentDefaultImageIndex:0,hasExistingConfig:!1}},computed:{progressBarWidth(){return this.currentStep/this.steps.length*100+"%"},steps(){const e={jellyfin:["MediaServiceSelection","TmdbConfig","JellyfinConfig","SeerConfig"],plex:["MediaServiceSelection","TmdbConfig","PlexConfig","SeerConfig"],emby:["MediaServiceSelection","TmdbConfig","JellyfinConfig","SeerConfig"]},t={jellyfin:["MediaServiceSelection","TmdbConfig","JellyfinConfig","SeerConfig","DbConfig","ContentFilterSettings","AdditionalSettings"],plex:["MediaServiceSelection","TmdbConfig","PlexConfig","SeerConfig","DbConfig","ContentFilterSettings","AdditionalSettings"],emby:["MediaServiceSelection","TmdbConfig","JellyfinConfig","SeerConfig","DbConfig","ContentFilterSettings","AdditionalSettings"]},s="quick"===this.setupMode?e:t;return s[this.config.SELECTED_SERVICE||"jellyfin"]},currentStepComponent(){return this.steps[this.currentStep-1]||"SaveConfig"}},watch:{"config.TMDB_API_KEY":function(e){e&&(this.stopBackgroundImageRotation(),this.startBackgroundImageRotation())}},async mounted(){await this.fetchConfig(),this.config.TMDB_API_KEY?this.hasExistingConfig=!0:this.startDefaultImageRotation()},methods:{getInitialConfig(){return{TMDB_API_KEY:"",JELLYFIN_API_URL:"",JELLYFIN_TOKEN:"",SEER_API_URL:"",SEER_TOKEN:"",SEER_USER_NAME:"",SEER_USER_PSW:"",MAX_SIMILAR_MOVIE:5,MAX_SIMILAR_TV:2,MAX_CONTENT_CHECKS:10,SEARCH_SIZE:20,CRON_TIMES:"0 0 * * *",JELLYFIN_LIBRARIES:[],SELECTED_SERVICE:"",PLEX_API_URL:"",PLEX_TOKEN:"",PLEX_LIBRARIES:[],SEER_SESSION_TOKEN:"",SUBPATH:""}},async fetchConfig(){try{const{data:e}=await se.A.get("/api/config/fetch");e&&(this.config={...this.getInitialConfig(),...e},this.hasExistingConfig=!(!e.TMDB_API_KEY||!e.SELECTED_SERVICE))}catch(e){console.error("Error fetching configuration:",e)}},async saveConfig(){try{if("quick"===this.setupMode){const e={DB_TYPE:"sqlite",MAX_SIMILAR_MOVIE:5,MAX_SIMILAR_TV:2,MAX_CONTENT_CHECKS:10,SEARCH_SIZE:20,CRON_TIMES:"0 0 * * *",EXCLUDE_DOWNLOADED:!0,EXCLUDE_REQUESTED:!0};this.config={...e,...this.config}}await se.A.post("/api/config/save",this.config),await se.A.post("/api/config/complete-setup"),this.$toast.open({message:"Setup completed successfully!",type:"success",duration:3e3,position:"top-right"}),this.currentStep=this.steps.length+1}catch(e){this.$toast.open({message:"Error saving configuration. Please try again!",type:"error",duration:5e3,position:"top-right"}),console.error("Error saving configuration:",e)}},startQuickSetup(){this.setupMode="quick",this.showWelcome=!1,this.currentStep=1},startAdvancedSetup(){this.setupMode="advanced",this.showWelcome=!1,this.currentStep=1},goBack(){this.currentStep>1&&this.currentStep--},skipStep(){this.currentStep<this.steps.length&&this.currentStep++},goToSettings(){this.$router.push("/settings")},goToRequests(){this.$router.push("/requests")},updateConfig(e,t){this.config[e]=t},handleStepChange(e){this.currentStep+e>0&&this.currentStep+e<=this.steps.length?this.currentStep+=e:this.currentStep+e>this.steps.length&&this.saveConfig()},startDefaultImageRotation(){this.backgroundImageUrl=this.defaultImages[this.currentDefaultImageIndex],this.intervalId=setInterval((()=>{this.currentDefaultImageIndex=(this.currentDefaultImageIndex+1)%this.defaultImages.length,this.backgroundImageUrl=this.defaultImages[this.currentDefaultImageIndex]}),1e4)},async fetchRandomMovieImage(){const e=await De(this.config.TMDB_API_KEY);if(e){const t=new Image;t.src=e,t.onload=()=>{this.backgroundImageUrl=e}}},startBackgroundImageRotation(){this.fetchRandomMovieImage(),this.intervalId=setInterval((()=>{this.fetchRandomMovieImage()}),1e4)},stopBackgroundImageRotation(){this.intervalId&&clearInterval(this.intervalId)}},beforeUnmount(){this.stopBackgroundImageRotation()}};const qo=(0,r.A)(Wo,[["render",qe],["__scopeId","data-v-522a0af6"]]);var Qo=qo;const jo={class:"settings-content"},zo={class:"tabs-navigation"},$o=["onClick"],Zo={class:"tab-content"},el={class:"settings-footer"},tl=["disabled"],sl=["disabled"],al=["disabled"],ol={key:0,class:"loading-overlay"},ll={key:1,class:"modal-overlay"},il={class:"modal-content"},nl={class:"modal-actions"};function rl(e,t,s,a,l,i){const n=(0,o.g2)("Footer");return(0,o.uX)(),(0,o.CE)("div",{class:"settings-container",style:(0,p.Tr)({backgroundImage:"url("+l.backgroundImageUrl+")"})},[(0,o.Lk)("div",jo,[t[15]||(t[15]=(0,o.Fv)('<div class="settings-header" data-v-3e70ece0><a href="https://github.com/giuseppe99barchetta/SuggestArr" target="_blank" data-v-3e70ece0><img src="'+h+'" alt="SuggestArr Logo" class="logo" data-v-3e70ece0></a><h1 class="settings-title" data-v-3e70ece0>Settings</h1><p class="settings-subtitle" data-v-3e70ece0>Manage your SuggestArr configuration</p></div>',1)),(0,o.Lk)("div",zo,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(l.tabs,(e=>((0,o.uX)(),(0,o.CE)("button",{key:e.id,onClick:t=>l.activeTab=e.id,class:(0,p.C4)(["tab-button",{active:l.activeTab===e.id}])},[(0,o.Lk)("i",{class:(0,p.C4)(e.icon)},null,2),(0,o.eW)(" "+(0,p.v_)(e.name),1)],10,$o)))),128))]),(0,o.Lk)("div",Zo,[((0,o.uX)(),(0,o.Wv)((0,o.$y)(i.activeTabComponent),{config:l.config,isLoading:l.isLoading,onSaveSection:i.saveSection,onTestConnection:i.testConnection},null,40,["config","isLoading","onSaveSection","onTestConnection"]))]),(0,o.Lk)("div",el,[(0,o.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>i.goToDashboard&&i.goToDashboard(...e)),class:"btn btn-secondary"},t[7]||(t[7]=[(0,o.Lk)("i",{class:"fas fa-arrow-left"},null,-1),(0,o.eW)(" Back to Dashboard ")])),t[11]||(t[11]=(0,o.Lk)("div",{class:"footer-spacer"},null,-1)),(0,o.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>i.exportConfig&&i.exportConfig(...e)),class:"btn btn-outline mr-2",disabled:l.isLoading},t[8]||(t[8]=[(0,o.Lk)("i",{class:"fas fa-download"},null,-1),(0,o.eW)(" Export ")]),8,tl),(0,o.Lk)("button",{onClick:t[2]||(t[2]=(...e)=>i.importConfig&&i.importConfig(...e)),class:"btn btn-outline mr-2",disabled:l.isLoading},t[9]||(t[9]=[(0,o.Lk)("i",{class:"fas fa-upload"},null,-1),(0,o.eW)(" Import ")]),8,sl),(0,o.Lk)("button",{onClick:t[3]||(t[3]=(...e)=>i.resetConfig&&i.resetConfig(...e)),class:"btn btn-danger",disabled:l.isLoading},t[10]||(t[10]=[(0,o.Lk)("i",{class:"fas fa-trash"},null,-1),(0,o.eW)(" Reset All ")]),8,al)]),l.isLoading?((0,o.uX)(),(0,o.CE)("div",ol,t[12]||(t[12]=[(0,o.Lk)("div",{class:"spinner"},null,-1),(0,o.Lk)("p",null,"Saving configuration...",-1)]))):(0,o.Q3)("",!0),(0,o.Lk)("input",{type:"file",ref:"fileInput",onChange:t[4]||(t[4]=(...e)=>i.handleFileImport&&i.handleFileImport(...e)),accept:".json",style:{display:"none"}},null,544),l.showResetModal?((0,o.uX)(),(0,o.CE)("div",ll,[(0,o.Lk)("div",il,[t[13]||(t[13]=(0,o.Lk)("h3",null,"Confirm Reset",-1)),t[14]||(t[14]=(0,o.Lk)("p",null,"Are you sure you want to reset all settings? This action cannot be undone.",-1)),(0,o.Lk)("div",nl,[(0,o.Lk)("button",{onClick:t[5]||(t[5]=e=>l.showResetModal=!1),class:"btn btn-secondary"},"Cancel"),(0,o.Lk)("button",{onClick:t[6]||(t[6]=(...e)=>i.confirmReset&&i.confirmReset(...e)),class:"btn btn-danger"},"Reset All Settings")])])])):(0,o.Q3)("",!0),(0,o.bF)(n)])],4)}s(4603),s(7566),s(8721);const cl={class:"settings-general"},dl={class:"settings-grid"},ul={class:"settings-group"},gl={class:"form-group"},fl=["disabled"],pl={class:"form-group"},hl=["disabled"],ml={class:"form-group"},bl=["disabled"],Ll={class:"form-group"},El=["disabled"],kl={class:"settings-group"},vl={class:"form-group"},yl=["disabled"],Sl={class:"form-group"},Cl=["disabled"],_l={class:"settings-group"},xl={class:"form-group"},Il=["disabled"],Tl={class:"settings-actions"},Rl=["disabled"],Al=["disabled"];function wl(e,t,s,l,i,n){return(0,o.uX)(),(0,o.CE)("div",cl,[t[27]||(t[27]=(0,o.Lk)("div",{class:"section-header"},[(0,o.Lk)("h2",null,"General Settings"),(0,o.Lk)("p",null,"Configure basic application settings and schedules")],-1)),(0,o.Lk)("div",dl,[(0,o.Lk)("div",ul,[t[17]||(t[17]=(0,o.Lk)("h3",null,"Content Suggestions",-1)),(0,o.Lk)("div",gl,[t[9]||(t[9]=(0,o.Lk)("label",{for:"maxSimilarMovie"},"Max Similar Movies",-1)),(0,o.bo)((0,o.Lk)("input",{id:"maxSimilarMovie","onUpdate:modelValue":t[0]||(t[0]=e=>i.localConfig.MAX_SIMILAR_MOVIE=e),type:"number",min:"1",max:"20",class:"form-control",disabled:s.isLoading},null,8,fl),[[a.Jo,i.localConfig.MAX_SIMILAR_MOVIE,void 0,{number:!0}]]),t[10]||(t[10]=(0,o.Lk)("small",{class:"form-help"},"Maximum number of similar movies to suggest for each item",-1))]),(0,o.Lk)("div",pl,[t[11]||(t[11]=(0,o.Lk)("label",{for:"maxSimilarTv"},"Max Similar TV Shows",-1)),(0,o.bo)((0,o.Lk)("input",{id:"maxSimilarTv","onUpdate:modelValue":t[1]||(t[1]=e=>i.localConfig.MAX_SIMILAR_TV=e),type:"number",min:"1",max:"20",class:"form-control",disabled:s.isLoading},null,8,hl),[[a.Jo,i.localConfig.MAX_SIMILAR_TV,void 0,{number:!0}]]),t[12]||(t[12]=(0,o.Lk)("small",{class:"form-help"},"Maximum number of similar TV shows to suggest for each item",-1))]),(0,o.Lk)("div",ml,[t[13]||(t[13]=(0,o.Lk)("label",{for:"maxContentChecks"},"Max Content Checks",-1)),(0,o.bo)((0,o.Lk)("input",{id:"maxContentChecks","onUpdate:modelValue":t[2]||(t[2]=e=>i.localConfig.MAX_CONTENT_CHECKS=e),type:"number",min:"1",max:"50",class:"form-control",disabled:s.isLoading},null,8,bl),[[a.Jo,i.localConfig.MAX_CONTENT_CHECKS,void 0,{number:!0}]]),t[14]||(t[14]=(0,o.Lk)("small",{class:"form-help"},"Maximum number of content items to check for suggestions",-1))]),(0,o.Lk)("div",Ll,[t[15]||(t[15]=(0,o.Lk)("label",{for:"searchSize"},"Search Size",-1)),(0,o.bo)((0,o.Lk)("input",{id:"searchSize","onUpdate:modelValue":t[3]||(t[3]=e=>i.localConfig.SEARCH_SIZE=e),type:"number",min:"1",max:"100",class:"form-control",disabled:s.isLoading},null,8,El),[[a.Jo,i.localConfig.SEARCH_SIZE,void 0,{number:!0}]]),t[16]||(t[16]=(0,o.Lk)("small",{class:"form-help"},"Number of results to fetch from TMDB when searching for similar content",-1))])]),(0,o.Lk)("div",kl,[t[21]||(t[21]=(0,o.Lk)("h3",null,"Schedule & Automation",-1)),(0,o.Lk)("div",vl,[t[18]||(t[18]=(0,o.Lk)("label",{for:"cronTimes"},"Cron Schedule",-1)),(0,o.bo)((0,o.Lk)("input",{id:"cronTimes","onUpdate:modelValue":t[4]||(t[4]=e=>i.localConfig.CRON_TIMES=e),type:"text",placeholder:"0 0 * * *",class:"form-control",disabled:s.isLoading},null,8,yl),[[a.Jo,i.localConfig.CRON_TIMES]]),t[19]||(t[19]=(0,o.Lk)("small",{class:"form-help"},' Cron expression for when to run content suggestions (e.g., "0 0 * * *" for daily at midnight) ',-1))]),(0,o.Lk)("div",Sl,[(0,o.Lk)("button",{onClick:t[5]||(t[5]=(...e)=>n.validateCron&&n.validateCron(...e)),class:"btn btn-outline btn-sm",disabled:s.isLoading||!i.localConfig.CRON_TIMES},t[20]||(t[20]=[(0,o.Lk)("i",{class:"fas fa-check"},null,-1),(0,o.eW)(" Validate Cron ")]),8,Cl),i.cronValidationMessage?((0,o.uX)(),(0,o.CE)("span",{key:0,class:(0,p.C4)(["cron-message",i.cronValidationValid?"valid":"invalid"])},(0,p.v_)(i.cronValidationMessage),3)):(0,o.Q3)("",!0)])]),(0,o.Lk)("div",_l,[t[24]||(t[24]=(0,o.Lk)("h3",null,"Application",-1)),(0,o.Lk)("div",xl,[t[22]||(t[22]=(0,o.Lk)("label",{for:"subpath"},"Subpath",-1)),(0,o.bo)((0,o.Lk)("input",{id:"subpath","onUpdate:modelValue":t[6]||(t[6]=e=>i.localConfig.SUBPATH=e),type:"text",placeholder:"/suggestarr",class:"form-control",disabled:s.isLoading},null,8,Il),[[a.Jo,i.localConfig.SUBPATH]]),t[23]||(t[23]=(0,o.Lk)("small",{class:"form-help"},' Subpath for running SuggestArr under a subdirectory (e.g., "/suggestarr"). Leave empty for root. ',-1))])])]),(0,o.Lk)("div",Tl,[(0,o.Lk)("button",{onClick:t[7]||(t[7]=(...e)=>n.saveSettings&&n.saveSettings(...e)),class:"btn btn-primary",disabled:s.isLoading||!n.hasChanges},[t[25]||(t[25]=(0,o.Lk)("i",{class:"fas fa-save"},null,-1)),(0,o.eW)(" "+(0,p.v_)(s.isLoading?"Saving...":"Save Changes"),1)],8,Rl),(0,o.Lk)("button",{onClick:t[8]||(t[8]=(...e)=>n.resetToDefaults&&n.resetToDefaults(...e)),class:"btn btn-outline",disabled:s.isLoading},t[26]||(t[26]=[(0,o.Lk)("i",{class:"fas fa-undo"},null,-1),(0,o.eW)(" Reset to Defaults ")]),8,Al)])])}var Dl={name:"SettingsGeneral",props:{config:{type:Object,required:!0},isLoading:{type:Boolean,default:!1}},emits:["save-section"],data(){return{localConfig:{},originalConfig:{},cronValidationMessage:"",cronValidationValid:!1}},computed:{hasChanges(){return JSON.stringify(this.localConfig)!==JSON.stringify(this.originalConfig)}},watch:{config:{immediate:!0,handler(e){this.localConfig={...e},this.originalConfig={...e}}}},methods:{validateCron(){if(!this.localConfig.CRON_TIMES)return this.cronValidationMessage="Please enter a cron expression",void(this.cronValidationValid=!1);try{Ps().parseExpression(this.localConfig.CRON_TIMES);const e=Ps().parseExpression(this.localConfig.CRON_TIMES),t=e.next(),s=new Date,a=t.getTime()-s.getTime(),o=Math.floor(a/36e5),l=Math.floor(a%36e5/6e4);this.cronValidationMessage=`Valid! Next run: in ${o}h ${l}m`,this.cronValidationValid=!0}catch(e){this.cronValidationMessage=`Invalid cron expression: ${e.message}`,this.cronValidationValid=!1}},async saveSettings(){try{await this.$emit("save-section",{section:"general",data:{MAX_SIMILAR_MOVIE:this.localConfig.MAX_SIMILAR_MOVIE,MAX_SIMILAR_TV:this.localConfig.MAX_SIMILAR_TV,MAX_CONTENT_CHECKS:this.localConfig.MAX_CONTENT_CHECKS,SEARCH_SIZE:this.localConfig.SEARCH_SIZE,CRON_TIMES:this.localConfig.CRON_TIMES,SUBPATH:this.localConfig.SUBPATH||null}}),this.originalConfig={...this.localConfig}}catch(e){console.error("Error saving general settings:",e)}},async resetToDefaults(){const e={MAX_SIMILAR_MOVIE:"5",MAX_SIMILAR_TV:"2",MAX_CONTENT_CHECKS:"10",SEARCH_SIZE:"20",CRON_TIMES:"0 0 * * *",SUBPATH:null};confirm("Are you sure you want to reset all general settings to their defaults?")&&(this.localConfig={...this.localConfig,...e},await this.saveSettings())}}};const Ul=(0,r.A)(Dl,[["render",wl],["__scopeId","data-v-366378cb"]]);var Nl=Ul;const Ml={class:"settings-services"},Pl={class:"settings-grid"},Ol={class:"settings-group"},Bl={class:"form-group"},Fl={class:"input-group"},Xl=["type","disabled"],Vl=["disabled"],Hl={class:"form-group"},Yl=["disabled"],Kl={key:0,class:"fas fa-spinner fa-spin"},Jl={key:1,class:"fas fa-plug"},Gl={class:"settings-group"},Wl={class:"form-group"},ql=["disabled"],Ql={key:0,class:"service-config"},jl={class:"form-group"},zl={class:"input-group"},$l=["type","disabled"],Zl=["disabled"],ei={class:"form-group"},ti=["disabled"],si={class:"form-group"},ai=["disabled"],oi={key:0,class:"fas fa-spinner fa-spin"},li={key:1,class:"fas fa-plug"},ii={key:1,class:"service-config"},ni={class:"form-group"},ri=["disabled"],ci={class:"form-group"},di={class:"input-group"},ui=["type","disabled"],gi=["disabled"],fi={class:"form-group"},pi=["disabled"],hi={key:0,class:"fas fa-spinner fa-spin"},mi={key:1,class:"fas fa-plug"},bi={class:"settings-group"},Li={class:"form-group"},Ei=["disabled"],ki={class:"form-group"},vi={class:"input-group"},yi=["type","disabled"],Si=["disabled"],Ci={class:"form-group"},_i=["disabled"],xi={class:"form-group"},Ii=["disabled"],Ti={key:0,class:"fas fa-spinner fa-spin"},Ri={key:1,class:"fas fa-plug"},Ai={class:"settings-actions"},wi=["disabled"],Di=["disabled"];function Ui(e,t,s,l,i,n){return(0,o.uX)(),(0,o.CE)("div",Ml,[t[38]||(t[38]=(0,o.Lk)("div",{class:"section-header"},[(0,o.Lk)("h2",null,"Service Configuration"),(0,o.Lk)("p",null,"Configure external service connections")],-1)),(0,o.Lk)("div",Pl,[(0,o.Lk)("div",Ol,[t[21]||(t[21]=(0,o.Lk)("h3",null,[(0,o.Lk)("i",{class:"fas fa-film"}),(0,o.eW)(" TMDB API ")],-1)),(0,o.Lk)("div",Bl,[t[19]||(t[19]=(0,o.Lk)("label",{for:"tmdbApiKey"},"TMDB API Key",-1)),(0,o.Lk)("div",Fl,[(0,o.bo)((0,o.Lk)("input",{id:"tmdbApiKey","onUpdate:modelValue":t[0]||(t[0]=e=>i.localConfig.TMDB_API_KEY=e),type:i.showTmdbKey?"text":"password",placeholder:"Enter your TMDB API key",class:"form-control",disabled:s.isLoading},null,8,Xl),[[a.hp,i.localConfig.TMDB_API_KEY]]),(0,o.Lk)("button",{onClick:t[1]||(t[1]=e=>i.showTmdbKey=!i.showTmdbKey),type:"button",class:"btn btn-outline btn-sm",disabled:s.isLoading},[(0,o.Lk)("i",{class:(0,p.C4)(i.showTmdbKey?"fas fa-eye-slash":"fas fa-eye")},null,2)],8,Vl)]),t[20]||(t[20]=(0,o.Lk)("small",{class:"form-help"},[(0,o.eW)(" API key for The Movie Database. Get one from "),(0,o.Lk)("a",{href:"https://www.themoviedb.org/settings/api",target:"_blank",class:"link"},"TMDB Settings")],-1))]),(0,o.Lk)("div",Hl,[(0,o.Lk)("button",{onClick:t[2]||(t[2]=(...e)=>n.testTmdbConnection&&n.testTmdbConnection(...e)),class:"btn btn-outline",disabled:s.isLoading||!i.localConfig.TMDB_API_KEY||i.testingTmdb},[i.testingTmdb?((0,o.uX)(),(0,o.CE)("i",Kl)):((0,o.uX)(),(0,o.CE)("i",Jl)),(0,o.eW)(" "+(0,p.v_)(i.testingTmdb?"Testing...":"Test Connection"),1)],8,Yl)])]),(0,o.Lk)("div",Gl,[t[29]||(t[29]=(0,o.Lk)("h3",null,[(0,o.Lk)("i",{class:"fas fa-server"}),(0,o.eW)(" Media Server ")],-1)),(0,o.Lk)("div",Wl,[t[23]||(t[23]=(0,o.Lk)("label",{for:"selectedService"},"Selected Service",-1)),(0,o.bo)((0,o.Lk)("select",{id:"selectedService","onUpdate:modelValue":t[3]||(t[3]=e=>i.localConfig.SELECTED_SERVICE=e),class:"form-control",disabled:s.isLoading},t[22]||(t[22]=[(0,o.Lk)("option",{value:""},"Select a service",-1),(0,o.Lk)("option",{value:"plex"},"Plex",-1),(0,o.Lk)("option",{value:"jellyfin"},"Jellyfin",-1),(0,o.Lk)("option",{value:"emby"},"Emby (Experimental)",-1)]),8,ql),[[a.u1,i.localConfig.SELECTED_SERVICE]]),t[24]||(t[24]=(0,o.Lk)("small",{class:"form-help"},"Choose your media server",-1))]),"plex"===i.localConfig.SELECTED_SERVICE?((0,o.uX)(),(0,o.CE)("div",Ql,[(0,o.Lk)("div",jl,[t[25]||(t[25]=(0,o.Lk)("label",{for:"plexToken"},"Plex Token",-1)),(0,o.Lk)("div",zl,[(0,o.bo)((0,o.Lk)("input",{id:"plexToken","onUpdate:modelValue":t[4]||(t[4]=e=>i.localConfig.PLEX_TOKEN=e),type:i.showPlexToken?"text":"password",placeholder:"Enter your Plex token",class:"form-control",disabled:s.isLoading},null,8,$l),[[a.hp,i.localConfig.PLEX_TOKEN]]),(0,o.Lk)("button",{onClick:t[5]||(t[5]=e=>i.showPlexToken=!i.showPlexToken),type:"button",class:"btn btn-outline btn-sm",disabled:s.isLoading},[(0,o.Lk)("i",{class:(0,p.C4)(i.showPlexToken?"fas fa-eye-slash":"fas fa-eye")},null,2)],8,Zl)])]),(0,o.Lk)("div",ei,[t[26]||(t[26]=(0,o.Lk)("label",{for:"plexApiUrl"},"Plex API URL",-1)),(0,o.bo)((0,o.Lk)("input",{id:"plexApiUrl","onUpdate:modelValue":t[6]||(t[6]=e=>i.localConfig.PLEX_API_URL=e),type:"url",placeholder:"http://localhost:32400",class:"form-control",disabled:s.isLoading},null,8,ti),[[a.Jo,i.localConfig.PLEX_API_URL]])]),(0,o.Lk)("div",si,[(0,o.Lk)("button",{onClick:t[7]||(t[7]=(...e)=>n.testPlexConnection&&n.testPlexConnection(...e)),class:"btn btn-outline",disabled:s.isLoading||!i.localConfig.PLEX_TOKEN||!i.localConfig.PLEX_API_URL||i.testingPlex},[i.testingPlex?((0,o.uX)(),(0,o.CE)("i",oi)):((0,o.uX)(),(0,o.CE)("i",li)),(0,o.eW)(" "+(0,p.v_)(i.testingPlex?"Testing...":"Test Plex Connection"),1)],8,ai)])])):(0,o.Q3)("",!0),"jellyfin"===i.localConfig.SELECTED_SERVICE?((0,o.uX)(),(0,o.CE)("div",ii,[(0,o.Lk)("div",ni,[t[27]||(t[27]=(0,o.Lk)("label",{for:"jellyfinApiUrl"},"Jellyfin API URL",-1)),(0,o.bo)((0,o.Lk)("input",{id:"jellyfinApiUrl","onUpdate:modelValue":t[8]||(t[8]=e=>i.localConfig.JELLYFIN_API_URL=e),type:"url",placeholder:"http://localhost:8096",class:"form-control",disabled:s.isLoading},null,8,ri),[[a.Jo,i.localConfig.JELLYFIN_API_URL]])]),(0,o.Lk)("div",ci,[t[28]||(t[28]=(0,o.Lk)("label",{for:"jellyfinToken"},"Jellyfin Token",-1)),(0,o.Lk)("div",di,[(0,o.bo)((0,o.Lk)("input",{id:"jellyfinToken","onUpdate:modelValue":t[9]||(t[9]=e=>i.localConfig.JELLYFIN_TOKEN=e),type:i.showJellyfinToken?"text":"password",placeholder:"Enter your Jellyfin API token",class:"form-control",disabled:s.isLoading},null,8,ui),[[a.hp,i.localConfig.JELLYFIN_TOKEN]]),(0,o.Lk)("button",{onClick:t[10]||(t[10]=e=>i.showJellyfinToken=!i.showJellyfinToken),type:"button",class:"btn btn-outline btn-sm",disabled:s.isLoading},[(0,o.Lk)("i",{class:(0,p.C4)(i.showJellyfinToken?"fas fa-eye-slash":"fas fa-eye")},null,2)],8,gi)])]),(0,o.Lk)("div",fi,[(0,o.Lk)("button",{onClick:t[11]||(t[11]=(...e)=>n.testJellyfinConnection&&n.testJellyfinConnection(...e)),class:"btn btn-outline",disabled:s.isLoading||!i.localConfig.JELLYFIN_API_URL||!i.localConfig.JELLYFIN_TOKEN||i.testingJellyfin},[i.testingJellyfin?((0,o.uX)(),(0,o.CE)("i",hi)):((0,o.uX)(),(0,o.CE)("i",mi)),(0,o.eW)(" "+(0,p.v_)(i.testingJellyfin?"Testing...":"Test Jellyfin Connection"),1)],8,pi)])])):(0,o.Q3)("",!0)]),(0,o.Lk)("div",bi,[t[35]||(t[35]=(0,o.Lk)("h3",null,[(0,o.Lk)("i",{class:"fas fa-list-alt"}),(0,o.eW)(" Overseer/Jellyseer ")],-1)),(0,o.Lk)("div",Li,[t[30]||(t[30]=(0,o.Lk)("label",{for:"seerApiUrl"},"API URL",-1)),(0,o.bo)((0,o.Lk)("input",{id:"seerApiUrl","onUpdate:modelValue":t[12]||(t[12]=e=>i.localConfig.SEER_API_URL=e),type:"url",placeholder:"http://localhost:5055",class:"form-control",disabled:s.isLoading},null,8,Ei),[[a.Jo,i.localConfig.SEER_API_URL]]),t[31]||(t[31]=(0,o.Lk)("small",{class:"form-help"},"URL for your Overseer or Jellyseer instance",-1))]),(0,o.Lk)("div",ki,[t[32]||(t[32]=(0,o.Lk)("label",{for:"seerToken"},"API Token",-1)),(0,o.Lk)("div",vi,[(0,o.bo)((0,o.Lk)("input",{id:"seerToken","onUpdate:modelValue":t[13]||(t[13]=e=>i.localConfig.SEER_TOKEN=e),type:i.showSeerToken?"text":"password",placeholder:"Enter your API token",class:"form-control",disabled:s.isLoading},null,8,yi),[[a.hp,i.localConfig.SEER_TOKEN]]),(0,o.Lk)("button",{onClick:t[14]||(t[14]=e=>i.showSeerToken=!i.showSeerToken),type:"button",class:"btn btn-outline btn-sm",disabled:s.isLoading},[(0,o.Lk)("i",{class:(0,p.C4)(i.showSeerToken?"fas fa-eye-slash":"fas fa-eye")},null,2)],8,Si)])]),(0,o.Lk)("div",Ci,[t[33]||(t[33]=(0,o.Lk)("label",{for:"seerUserName"},"Username",-1)),(0,o.bo)((0,o.Lk)("input",{id:"seerUserName","onUpdate:modelValue":t[15]||(t[15]=e=>i.localConfig.SEER_USER_NAME=e),type:"text",placeholder:"Your username",class:"form-control",disabled:s.isLoading},null,8,_i),[[a.Jo,i.localConfig.SEER_USER_NAME]]),t[34]||(t[34]=(0,o.Lk)("small",{class:"form-help"},"Username for making requests",-1))]),(0,o.Lk)("div",xi,[(0,o.Lk)("button",{onClick:t[16]||(t[16]=(...e)=>n.testSeerConnection&&n.testSeerConnection(...e)),class:"btn btn-outline",disabled:s.isLoading||!i.localConfig.SEER_API_URL||!i.localConfig.SEER_TOKEN||i.testingSeer},[i.testingSeer?((0,o.uX)(),(0,o.CE)("i",Ti)):((0,o.uX)(),(0,o.CE)("i",Ri)),(0,o.eW)(" "+(0,p.v_)(i.testingSeer?"Testing...":"Test Connection"),1)],8,Ii)])])]),(0,o.Lk)("div",Ai,[(0,o.Lk)("button",{onClick:t[17]||(t[17]=(...e)=>n.saveSettings&&n.saveSettings(...e)),class:"btn btn-primary",disabled:s.isLoading||!n.hasChanges},[t[36]||(t[36]=(0,o.Lk)("i",{class:"fas fa-save"},null,-1)),(0,o.eW)(" "+(0,p.v_)(s.isLoading?"Saving...":"Save Changes"),1)],8,wi),(0,o.Lk)("button",{onClick:t[18]||(t[18]=(...e)=>n.resetToDefaults&&n.resetToDefaults(...e)),class:"btn btn-outline",disabled:s.isLoading},t[37]||(t[37]=[(0,o.Lk)("i",{class:"fas fa-undo"},null,-1),(0,o.eW)(" Reset to Defaults ")]),8,Di)])])}var Ni={name:"SettingsServices",props:{config:{type:Object,required:!0},isLoading:{type:Boolean,default:!1}},emits:["save-section","test-connection"],data(){return{localConfig:{},originalConfig:{},showTmdbKey:!1,showPlexToken:!1,showJellyfinToken:!1,showSeerToken:!1,testingTmdb:!1,testingPlex:!1,testingJellyfin:!1,testingSeer:!1}},computed:{hasChanges(){return JSON.stringify(this.localConfig)!==JSON.stringify(this.originalConfig)}},watch:{config:{immediate:!0,handler(e){this.localConfig={...e},this.originalConfig={...e}}}},methods:{async testTmdbConnection(){this.testingTmdb=!0;try{await this.$emit("test-connection","tmdb",{api_key:this.localConfig.TMDB_API_KEY})}catch(e){console.error("Error testing TMDB connection:",e)}finally{this.testingTmdb=!1}},async testPlexConnection(){this.testingPlex=!0;try{await this.$emit("test-connection","plex",{token:this.localConfig.PLEX_TOKEN,api_url:this.localConfig.PLEX_API_URL})}catch(e){console.error("Error testing Plex connection:",e)}finally{this.testingPlex=!1}},async testJellyfinConnection(){this.testingJellyfin=!0;try{await this.$emit("test-connection","jellyfin",{api_url:this.localConfig.JELLYFIN_API_URL,token:this.localConfig.JELLYFIN_TOKEN})}catch(e){console.error("Error testing Jellyfin connection:",e)}finally{this.testingJellyfin=!1}},async testSeerConnection(){this.testingSeer=!0;try{await this.$emit("test-connection","seer",{api_url:this.localConfig.SEER_API_URL,token:this.localConfig.SEER_TOKEN})}catch(e){console.error("Error testing Seer connection:",e)}finally{this.testingSeer=!1}},async saveSettings(){try{const e={TMDB_API_KEY:this.localConfig.TMDB_API_KEY,SELECTED_SERVICE:this.localConfig.SELECTED_SERVICE};"plex"===this.localConfig.SELECTED_SERVICE?Object.assign(e,{PLEX_TOKEN:this.localConfig.PLEX_TOKEN,PLEX_API_URL:this.localConfig.PLEX_API_URL,PLEX_LIBRARIES:this.localConfig.PLEX_LIBRARIES||[]}):"jellyfin"===this.localConfig.SELECTED_SERVICE&&Object.assign(e,{JELLYFIN_API_URL:this.localConfig.JELLYFIN_API_URL,JELLYFIN_TOKEN:this.localConfig.JELLYFIN_TOKEN,JELLYFIN_LIBRARIES:this.localConfig.JELLYFIN_LIBRARIES||[]}),Object.assign(e,{SEER_API_URL:this.localConfig.SEER_API_URL,SEER_TOKEN:this.localConfig.SEER_TOKEN,SEER_USER_NAME:this.localConfig.SEER_USER_NAME||null}),await this.$emit("save-section",{section:"services",data:e}),this.originalConfig={...this.localConfig}}catch(e){console.error("Error saving service settings:",e)}},async resetToDefaults(){const e={TMDB_API_KEY:"",SELECTED_SERVICE:"",PLEX_TOKEN:"",PLEX_API_URL:"",PLEX_LIBRARIES:[],JELLYFIN_API_URL:"",JELLYFIN_TOKEN:"",JELLYFIN_LIBRARIES:[],SEER_API_URL:"",SEER_TOKEN:"",SEER_USER_NAME:null};confirm("Are you sure you want to reset all service settings to their defaults?")&&(this.localConfig={...this.localConfig,...e},await this.saveSettings())}}};const Mi=(0,r.A)(Ni,[["render",Ui],["__scopeId","data-v-29fc8236"]]);var Pi=Mi;const Oi={class:"settings-database"},Bi={class:"settings-grid"},Fi={class:"settings-group"},Xi={class:"form-group"},Vi=["disabled"],Hi={key:0,class:"db-info"},Yi={key:0,class:"settings-group"},Ki={class:"form-group"},Ji=["disabled"],Gi={class:"form-row"},Wi={class:"form-group"},qi=["disabled"],Qi={class:"form-group"},ji=["disabled"],zi={class:"form-group"},$i=["disabled"],Zi={class:"form-group"},en={class:"input-group"},tn=["type","disabled"],sn=["disabled"],an={class:"form-group"},on=["disabled"],ln={key:0,class:"fas fa-spinner fa-spin"},nn={key:1,class:"fas fa-plug"},rn={key:1,class:"settings-group"},cn={class:"form-group"},dn=["disabled"],un={class:"form-row"},gn={class:"form-group"},fn=["disabled"],pn={class:"form-group"},hn=["disabled"],mn={class:"form-group"},bn=["disabled"],Ln={class:"form-group"},En={class:"input-group"},kn=["type","disabled"],vn=["disabled"],yn={class:"form-group"},Sn=["disabled"],Cn={key:0,class:"fas fa-spinner fa-spin"},_n={key:1,class:"fas fa-plug"},xn={key:2,class:"settings-group warning"},In={class:"settings-actions"},Tn=["disabled"],Rn=["disabled"];function An(e,t,s,l,i,n){return(0,o.uX)(),(0,o.CE)("div",Oi,[t[38]||(t[38]=(0,o.Lk)("div",{class:"section-header"},[(0,o.Lk)("h2",null,"Database Configuration"),(0,o.Lk)("p",null,"Configure your database connection settings")],-1)),(0,o.Lk)("div",Bi,[(0,o.Lk)("div",Fi,[t[22]||(t[22]=(0,o.Lk)("h3",null,[(0,o.Lk)("i",{class:"fas fa-database"}),(0,o.eW)(" Database Type ")],-1)),(0,o.Lk)("div",Xi,[t[19]||(t[19]=(0,o.Lk)("label",{for:"dbType"},"Database Type",-1)),(0,o.bo)((0,o.Lk)("select",{id:"dbType","onUpdate:modelValue":t[0]||(t[0]=e=>i.localConfig.DB_TYPE=e),class:"form-control",disabled:s.isLoading,onChange:t[1]||(t[1]=(...e)=>n.onDbTypeChange&&n.onDbTypeChange(...e))},t[18]||(t[18]=[(0,o.Lk)("option",{value:"sqlite"},"SQLite (Default)",-1),(0,o.Lk)("option",{value:"postgres"},"PostgreSQL",-1),(0,o.Lk)("option",{value:"mysql"},"MySQL/MariaDB",-1)]),40,Vi),[[a.u1,i.localConfig.DB_TYPE]]),t[20]||(t[20]=(0,o.Lk)("small",{class:"form-help"}," SQLite is suitable for most users. PostgreSQL or MySQL recommended for production environments. ",-1))]),"sqlite"===i.localConfig.DB_TYPE?((0,o.uX)(),(0,o.CE)("div",Hi,t[21]||(t[21]=[(0,o.Lk)("div",{class:"info-box"},[(0,o.Lk)("i",{class:"fas fa-info-circle"}),(0,o.Lk)("div",null,[(0,o.Lk)("strong",null,"SQLite Configuration"),(0,o.Lk)("p",null,[(0,o.eW)(" Using SQLite for database storage. The database file will be stored at "),(0,o.Lk)("code",null,"config/config_files/requests.db")])])],-1)]))):(0,o.Q3)("",!0)]),"postgres"===i.localConfig.DB_TYPE?((0,o.uX)(),(0,o.CE)("div",Yi,[t[28]||(t[28]=(0,o.Lk)("h3",null,[(0,o.Lk)("i",{class:"fas fa-elephant"}),(0,o.eW)(" PostgreSQL Settings ")],-1)),(0,o.Lk)("div",Ki,[t[23]||(t[23]=(0,o.Lk)("label",{for:"postgresHost"},"Host",-1)),(0,o.bo)((0,o.Lk)("input",{id:"postgresHost","onUpdate:modelValue":t[2]||(t[2]=e=>i.localConfig.DB_HOST=e),type:"text",placeholder:"localhost",class:"form-control",disabled:s.isLoading},null,8,Ji),[[a.Jo,i.localConfig.DB_HOST]])]),(0,o.Lk)("div",Gi,[(0,o.Lk)("div",Wi,[t[24]||(t[24]=(0,o.Lk)("label",{for:"postgresPort"},"Port",-1)),(0,o.bo)((0,o.Lk)("input",{id:"postgresPort","onUpdate:modelValue":t[3]||(t[3]=e=>i.localConfig.DB_PORT=e),type:"number",placeholder:"5432",class:"form-control",disabled:s.isLoading},null,8,qi),[[a.Jo,i.localConfig.DB_PORT,void 0,{number:!0}]])]),(0,o.Lk)("div",Qi,[t[25]||(t[25]=(0,o.Lk)("label",{for:"postgresName"},"Database Name",-1)),(0,o.bo)((0,o.Lk)("input",{id:"postgresName","onUpdate:modelValue":t[4]||(t[4]=e=>i.localConfig.DB_NAME=e),type:"text",placeholder:"suggestarr",class:"form-control",disabled:s.isLoading},null,8,ji),[[a.Jo,i.localConfig.DB_NAME]])])]),(0,o.Lk)("div",zi,[t[26]||(t[26]=(0,o.Lk)("label",{for:"postgresUser"},"Username",-1)),(0,o.bo)((0,o.Lk)("input",{id:"postgresUser","onUpdate:modelValue":t[5]||(t[5]=e=>i.localConfig.DB_USER=e),type:"text",placeholder:"postgres",class:"form-control",disabled:s.isLoading},null,8,$i),[[a.Jo,i.localConfig.DB_USER]])]),(0,o.Lk)("div",Zi,[t[27]||(t[27]=(0,o.Lk)("label",{for:"postgresPassword"},"Password",-1)),(0,o.Lk)("div",en,[(0,o.bo)((0,o.Lk)("input",{id:"postgresPassword","onUpdate:modelValue":t[6]||(t[6]=e=>i.localConfig.DB_PASSWORD=e),type:i.showPostgresPassword?"text":"password",placeholder:"Enter password",class:"form-control",disabled:s.isLoading},null,8,tn),[[a.hp,i.localConfig.DB_PASSWORD]]),(0,o.Lk)("button",{onClick:t[7]||(t[7]=e=>i.showPostgresPassword=!i.showPostgresPassword),type:"button",class:"btn btn-outline btn-sm",disabled:s.isLoading},[(0,o.Lk)("i",{class:(0,p.C4)(i.showPostgresPassword?"fas fa-eye-slash":"fas fa-eye")},null,2)],8,sn)])]),(0,o.Lk)("div",an,[(0,o.Lk)("button",{onClick:t[8]||(t[8]=(...e)=>n.testDatabaseConnection&&n.testDatabaseConnection(...e)),class:"btn btn-outline",disabled:s.isLoading||!n.isPostgresConfigured||i.testingDatabase},[i.testingDatabase?((0,o.uX)(),(0,o.CE)("i",ln)):((0,o.uX)(),(0,o.CE)("i",nn)),(0,o.eW)(" "+(0,p.v_)(i.testingDatabase?"Testing...":"Test Connection"),1)],8,on)])])):(0,o.Q3)("",!0),"mysql"===i.localConfig.DB_TYPE?((0,o.uX)(),(0,o.CE)("div",rn,[t[34]||(t[34]=(0,o.Lk)("h3",null,[(0,o.Lk)("i",{class:"fas fa-database"}),(0,o.eW)(" MySQL/MariaDB Settings ")],-1)),(0,o.Lk)("div",cn,[t[29]||(t[29]=(0,o.Lk)("label",{for:"mysqlHost"},"Host",-1)),(0,o.bo)((0,o.Lk)("input",{id:"mysqlHost","onUpdate:modelValue":t[9]||(t[9]=e=>i.localConfig.DB_HOST=e),type:"text",placeholder:"localhost",class:"form-control",disabled:s.isLoading},null,8,dn),[[a.Jo,i.localConfig.DB_HOST]])]),(0,o.Lk)("div",un,[(0,o.Lk)("div",gn,[t[30]||(t[30]=(0,o.Lk)("label",{for:"mysqlPort"},"Port",-1)),(0,o.bo)((0,o.Lk)("input",{id:"mysqlPort","onUpdate:modelValue":t[10]||(t[10]=e=>i.localConfig.DB_PORT=e),type:"number",placeholder:"3306",class:"form-control",disabled:s.isLoading},null,8,fn),[[a.Jo,i.localConfig.DB_PORT,void 0,{number:!0}]])]),(0,o.Lk)("div",pn,[t[31]||(t[31]=(0,o.Lk)("label",{for:"mysqlName"},"Database Name",-1)),(0,o.bo)((0,o.Lk)("input",{id:"mysqlName","onUpdate:modelValue":t[11]||(t[11]=e=>i.localConfig.DB_NAME=e),type:"text",placeholder:"suggestarr",class:"form-control",disabled:s.isLoading},null,8,hn),[[a.Jo,i.localConfig.DB_NAME]])])]),(0,o.Lk)("div",mn,[t[32]||(t[32]=(0,o.Lk)("label",{for:"mysqlUser"},"Username",-1)),(0,o.bo)((0,o.Lk)("input",{id:"mysqlUser","onUpdate:modelValue":t[12]||(t[12]=e=>i.localConfig.DB_USER=e),type:"text",placeholder:"root",class:"form-control",disabled:s.isLoading},null,8,bn),[[a.Jo,i.localConfig.DB_USER]])]),(0,o.Lk)("div",Ln,[t[33]||(t[33]=(0,o.Lk)("label",{for:"mysqlPassword"},"Password",-1)),(0,o.Lk)("div",En,[(0,o.bo)((0,o.Lk)("input",{id:"mysqlPassword","onUpdate:modelValue":t[13]||(t[13]=e=>i.localConfig.DB_PASSWORD=e),type:i.showMysqlPassword?"text":"password",placeholder:"Enter password",class:"form-control",disabled:s.isLoading},null,8,kn),[[a.hp,i.localConfig.DB_PASSWORD]]),(0,o.Lk)("button",{onClick:t[14]||(t[14]=e=>i.showMysqlPassword=!i.showMysqlPassword),type:"button",class:"btn btn-outline btn-sm",disabled:s.isLoading},[(0,o.Lk)("i",{class:(0,p.C4)(i.showMysqlPassword?"fas fa-eye-slash":"fas fa-eye")},null,2)],8,vn)])]),(0,o.Lk)("div",yn,[(0,o.Lk)("button",{onClick:t[15]||(t[15]=(...e)=>n.testDatabaseConnection&&n.testDatabaseConnection(...e)),class:"btn btn-outline",disabled:s.isLoading||!n.isMysqlConfigured||i.testingDatabase},[i.testingDatabase?((0,o.uX)(),(0,o.CE)("i",Cn)):((0,o.uX)(),(0,o.CE)("i",_n)),(0,o.eW)(" "+(0,p.v_)(i.testingDatabase?"Testing...":"Test Connection"),1)],8,Sn)])])):(0,o.Q3)("",!0),n.hasDbTypeChanged&&"sqlite"!==i.localConfig.DB_TYPE?((0,o.uX)(),(0,o.CE)("div",xn,t[35]||(t[35]=[(0,o.Fv)('<h3 data-v-5eb5be5d><i class="fas fa-exclamation-triangle" data-v-5eb5be5d></i> Database Migration Notice </h3><div class="warning-content" data-v-5eb5be5d><p data-v-5eb5be5d><strong data-v-5eb5be5d>Warning:</strong> Changing the database type will require a manual migration of your existing data. Please backup your current configuration and data before proceeding. </p><p data-v-5eb5be5d>Recommended steps:</p><ol data-v-5eb5be5d><li data-v-5eb5be5d>Export your current configuration</li><li data-v-5eb5be5d>Backup your SQLite database file</li><li data-v-5eb5be5d>Create the new database in your chosen DBMS</li><li data-v-5eb5be5d>Import your configuration</li><li data-v-5eb5be5d>Test the new connection</li></ol></div>',2)]))):(0,o.Q3)("",!0)]),(0,o.Lk)("div",In,[(0,o.Lk)("button",{onClick:t[16]||(t[16]=(...e)=>n.saveSettings&&n.saveSettings(...e)),class:"btn btn-primary",disabled:s.isLoading||!n.hasChanges},[t[36]||(t[36]=(0,o.Lk)("i",{class:"fas fa-save"},null,-1)),(0,o.eW)(" "+(0,p.v_)(s.isLoading?"Saving...":"Save Changes"),1)],8,Tn),(0,o.Lk)("button",{onClick:t[17]||(t[17]=(...e)=>n.resetToDefaults&&n.resetToDefaults(...e)),class:"btn btn-outline",disabled:s.isLoading},t[37]||(t[37]=[(0,o.Lk)("i",{class:"fas fa-undo"},null,-1),(0,o.eW)(" Reset to Defaults ")]),8,Rn)])])}var wn={name:"SettingsDatabase",props:{config:{type:Object,required:!0},isLoading:{type:Boolean,default:!1}},emits:["save-section","test-connection"],data(){return{localConfig:{},originalConfig:{},showPostgresPassword:!1,showMysqlPassword:!1,testingDatabase:!1}},computed:{hasChanges(){return JSON.stringify(this.localConfig)!==JSON.stringify(this.originalConfig)},hasDbTypeChanged(){return this.localConfig.DB_TYPE!==this.originalConfig.DB_TYPE},isPostgresConfigured(){return this.localConfig.DB_HOST&&this.localConfig.DB_PORT&&this.localConfig.DB_NAME&&this.localConfig.DB_USER&&this.localConfig.DB_PASSWORD},isMysqlConfigured(){return this.localConfig.DB_HOST&&this.localConfig.DB_PORT&&this.localConfig.DB_NAME&&this.localConfig.DB_USER&&this.localConfig.DB_PASSWORD}},watch:{config:{immediate:!0,handler(e){this.localConfig={...e},this.originalConfig={...e}}}},methods:{onDbTypeChange(){"sqlite"===this.localConfig.DB_TYPE?(this.localConfig.DB_HOST=null,this.localConfig.DB_PORT=null,this.localConfig.DB_NAME=null,this.localConfig.DB_USER=null,this.localConfig.DB_PASSWORD=null):"postgres"===this.localConfig.DB_TYPE?this.localConfig.DB_PORT=this.localConfig.DB_PORT||5432:"mysql"===this.localConfig.DB_TYPE&&(this.localConfig.DB_PORT=this.localConfig.DB_PORT||3306)},async testDatabaseConnection(){this.testingDatabase=!0;try{await this.$emit("test-connection","database",{DB_TYPE:this.localConfig.DB_TYPE,DB_HOST:this.localConfig.DB_HOST,DB_PORT:this.localConfig.DB_PORT,DB_NAME:this.localConfig.DB_NAME,DB_USER:this.localConfig.DB_USER,DB_PASSWORD:this.localConfig.DB_PASSWORD})}catch(e){console.error("Error testing database connection:",e)}finally{this.testingDatabase=!1}},async saveSettings(){try{const e={DB_TYPE:this.localConfig.DB_TYPE};"sqlite"!==this.localConfig.DB_TYPE&&Object.assign(e,{DB_HOST:this.localConfig.DB_HOST,DB_PORT:this.localConfig.DB_PORT,DB_NAME:this.localConfig.DB_NAME,DB_USER:this.localConfig.DB_USER,DB_PASSWORD:this.localConfig.DB_PASSWORD}),await this.$emit("save-section",{section:"database",data:e}),this.originalConfig={...this.localConfig}}catch(e){console.error("Error saving database settings:",e)}},async resetToDefaults(){const e={DB_TYPE:"sqlite",DB_HOST:null,DB_PORT:null,DB_USER:null,DB_PASSWORD:null,DB_NAME:null};confirm("Are you sure you want to reset all database settings to their defaults?")&&(this.localConfig={...this.localConfig,...e},await this.saveSettings())}}};const Dn=(0,r.A)(wn,[["render",An],["__scopeId","data-v-5eb5be5d"]]);var Un=Dn;const Nn={class:"settings-content-filters"},Mn={class:"settings-grid"},Pn={class:"settings-group"},On={class:"form-row"},Bn={class:"form-group"},Fn=["disabled"],Xn={class:"form-group"},Vn=["disabled"],Hn={class:"settings-group"},Yn={class:"form-group"},Kn={class:"genre-selector"},Jn=["id","value","disabled"],Gn=["for"],Wn={class:"settings-group"},qn={class:"form-group"},Qn=["max","disabled"],jn={class:"form-group"},zn=["disabled"],$n={class:"settings-group"},Zn={class:"form-group"},er=["disabled"],tr={class:"form-group"},sr={class:"checkbox-label"},ar=["disabled"],or={class:"settings-group"},lr={class:"form-group"},ir={class:"streaming-selector"},nr=["id","value","disabled"],rr=["for"],cr={class:"form-group"},dr=["disabled"],ur={class:"settings-group"},gr={class:"form-group"},fr={class:"checkbox-label"},pr=["disabled"],hr={class:"form-group"},mr={class:"checkbox-label"},br=["disabled"],Lr={class:"form-group"},Er={class:"checkbox-label"},kr=["disabled"],vr={class:"settings-actions"},yr=["disabled"],Sr=["disabled"];function Cr(e,t,s,l,i,n){return(0,o.uX)(),(0,o.CE)("div",Nn,[t[48]||(t[48]=(0,o.Lk)("div",{class:"section-header"},[(0,o.Lk)("h2",null,"Content Filters"),(0,o.Lk)("p",null,"Configure content filtering and suggestion criteria")],-1)),(0,o.Lk)("div",Mn,[(0,o.Lk)("div",Pn,[t[18]||(t[18]=(0,o.Lk)("h3",null,[(0,o.Lk)("i",{class:"fas fa-star"}),(0,o.eW)(" TMDB Rating Filters ")],-1)),(0,o.Lk)("div",On,[(0,o.Lk)("div",Bn,[t[14]||(t[14]=(0,o.Lk)("label",{for:"tmdbThreshold"},"Minimum Rating",-1)),(0,o.bo)((0,o.Lk)("input",{id:"tmdbThreshold","onUpdate:modelValue":t[0]||(t[0]=e=>i.localConfig.FILTER_TMDB_THRESHOLD=e),type:"number",min:"0",max:"10",step:"0.1",placeholder:"6.0",class:"form-control",disabled:s.isLoading},null,8,Fn),[[a.Jo,i.localConfig.FILTER_TMDB_THRESHOLD,void 0,{number:!0}]]),t[15]||(t[15]=(0,o.Lk)("small",{class:"form-help"},"Minimum TMDB rating (0-10)",-1))]),(0,o.Lk)("div",Xn,[t[16]||(t[16]=(0,o.Lk)("label",{for:"tmdbMinVotes"},"Minimum Votes",-1)),(0,o.bo)((0,o.Lk)("input",{id:"tmdbMinVotes","onUpdate:modelValue":t[1]||(t[1]=e=>i.localConfig.FILTER_TMDB_MIN_VOTES=e),type:"number",min:"0",placeholder:"100",class:"form-control",disabled:s.isLoading},null,8,Vn),[[a.Jo,i.localConfig.FILTER_TMDB_MIN_VOTES,void 0,{number:!0}]]),t[17]||(t[17]=(0,o.Lk)("small",{class:"form-help"},"Minimum number of votes",-1))])])]),(0,o.Lk)("div",Hn,[t[21]||(t[21]=(0,o.Lk)("h3",null,[(0,o.Lk)("i",{class:"fas fa-theater-masks"}),(0,o.eW)(" Genre Exclusions ")],-1)),(0,o.Lk)("div",Yn,[t[19]||(t[19]=(0,o.Lk)("label",{for:"genreExcludes"},"Exclude Genres",-1)),(0,o.Lk)("div",Kn,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(i.availableGenres,(e=>((0,o.uX)(),(0,o.CE)("div",{key:e.id,class:"genre-item"},[(0,o.bo)((0,o.Lk)("input",{id:`genre-${e.id}`,"onUpdate:modelValue":t[2]||(t[2]=e=>i.localConfig.FILTER_GENRES_EXCLUDE=e),value:e.id,type:"checkbox",class:"genre-checkbox",disabled:s.isLoading},null,8,Jn),[[a.lH,i.localConfig.FILTER_GENRES_EXCLUDE]]),(0,o.Lk)("label",{for:`genre-${e.id}`,class:"genre-label"},(0,p.v_)(e.name),9,Gn)])))),128))]),t[20]||(t[20]=(0,o.Lk)("small",{class:"form-help"}," Select genres to exclude from suggestions ",-1))])]),(0,o.Lk)("div",Wn,[t[26]||(t[26]=(0,o.Lk)("h3",null,[(0,o.Lk)("i",{class:"fas fa-calendar"}),(0,o.eW)(" Release Filters ")],-1)),(0,o.Lk)("div",qn,[t[22]||(t[22]=(0,o.Lk)("label",{for:"releaseYear"},"Minimum Release Year",-1)),(0,o.bo)((0,o.Lk)("input",{id:"releaseYear","onUpdate:modelValue":t[3]||(t[3]=e=>i.localConfig.FILTER_RELEASE_YEAR=e),type:"number",min:"1900",max:n.currentYear,placeholder:"2010",class:"form-control",disabled:s.isLoading},null,8,Qn),[[a.Jo,i.localConfig.FILTER_RELEASE_YEAR,void 0,{number:!0}]]),t[23]||(t[23]=(0,o.Lk)("small",{class:"form-help"}," Only include content released in or after this year ",-1))]),(0,o.Lk)("div",jn,[t[24]||(t[24]=(0,o.Lk)("label",{for:"numSeasons"},"Maximum TV Seasons",-1)),(0,o.bo)((0,o.Lk)("input",{id:"numSeasons","onUpdate:modelValue":t[4]||(t[4]=e=>i.localConfig.FILTER_NUM_SEASONS=e),type:"number",min:"1",max:"50",placeholder:"10",class:"form-control",disabled:s.isLoading},null,8,zn),[[a.Jo,i.localConfig.FILTER_NUM_SEASONS,void 0,{number:!0}]]),t[25]||(t[25]=(0,o.Lk)("small",{class:"form-help"}," Maximum number of seasons for TV shows (leave empty for no limit) ",-1))])]),(0,o.Lk)("div",$n,[t[32]||(t[32]=(0,o.Lk)("h3",null,[(0,o.Lk)("i",{class:"fas fa-language"}),(0,o.eW)(" Language & Rating ")],-1)),(0,o.Lk)("div",Zn,[t[28]||(t[28]=(0,o.Lk)("label",{for:"filterLanguage"},"Preferred Language",-1)),(0,o.bo)((0,o.Lk)("select",{id:"filterLanguage","onUpdate:modelValue":t[5]||(t[5]=e=>i.localConfig.FILTER_LANGUAGE=e),class:"form-control",disabled:s.isLoading},t[27]||(t[27]=[(0,o.Fv)('<option value="" data-v-4b7cea8e>All Languages</option><option value="en" data-v-4b7cea8e>English</option><option value="es" data-v-4b7cea8e>Spanish</option><option value="fr" data-v-4b7cea8e>French</option><option value="de" data-v-4b7cea8e>German</option><option value="it" data-v-4b7cea8e>Italian</option><option value="ja" data-v-4b7cea8e>Japanese</option><option value="ko" data-v-4b7cea8e>Korean</option><option value="zh" data-v-4b7cea8e>Chinese</option><option value="pt" data-v-4b7cea8e>Portuguese</option><option value="ru" data-v-4b7cea8e>Russian</option>',11)]),8,er),[[a.u1,i.localConfig.FILTER_LANGUAGE]]),t[29]||(t[29]=(0,o.Lk)("small",{class:"form-help"}," Preferred language for content (2-letter language code) ",-1))]),(0,o.Lk)("div",tr,[(0,o.Lk)("label",sr,[(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[6]||(t[6]=e=>i.localConfig.FILTER_INCLUDE_NO_RATING=e),type:"checkbox",disabled:s.isLoading},null,8,ar),[[a.lH,i.localConfig.FILTER_INCLUDE_NO_RATING]]),t[30]||(t[30]=(0,o.Lk)("span",{class:"checkbox-text"},"Include content without ratings",-1))]),t[31]||(t[31]=(0,o.Lk)("small",{class:"form-help"}," Include content that doesn't have a TMDB rating ",-1))])]),(0,o.Lk)("div",or,[t[38]||(t[38]=(0,o.Lk)("h3",null,[(0,o.Lk)("i",{class:"fas fa-tv"}),(0,o.eW)(" Streaming Services ")],-1)),(0,o.Lk)("div",lr,[t[33]||(t[33]=(0,o.Lk)("label",{for:"streamingServices"},"Exclude Streaming Services",-1)),(0,o.Lk)("div",ir,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(i.availableStreamingServices,(e=>((0,o.uX)(),(0,o.CE)("div",{key:e.id,class:"streaming-item"},[(0,o.bo)((0,o.Lk)("input",{id:`service-${e.id}`,"onUpdate:modelValue":t[7]||(t[7]=e=>i.localConfig.FILTER_STREAMING_SERVICES=e),value:e.id,type:"checkbox",class:"streaming-checkbox",disabled:s.isLoading},null,8,nr),[[a.lH,i.localConfig.FILTER_STREAMING_SERVICES]]),(0,o.Lk)("label",{for:`service-${e.id}`,class:"streaming-label"},(0,p.v_)(e.name),9,rr)])))),128))]),t[34]||(t[34]=(0,o.Lk)("small",{class:"form-help"}," Select streaming services to exclude from suggestions ",-1))]),(0,o.Lk)("div",cr,[t[36]||(t[36]=(0,o.Lk)("label",{for:"regionProvider"},"Region Provider",-1)),(0,o.bo)((0,o.Lk)("select",{id:"regionProvider","onUpdate:modelValue":t[8]||(t[8]=e=>i.localConfig.FILTER_REGION_PROVIDER=e),class:"form-control",disabled:s.isLoading},t[35]||(t[35]=[(0,o.Fv)('<option value="" data-v-4b7cea8e>All Regions</option><option value="US" data-v-4b7cea8e>United States</option><option value="GB" data-v-4b7cea8e>United Kingdom</option><option value="CA" data-v-4b7cea8e>Canada</option><option value="AU" data-v-4b7cea8e>Australia</option><option value="DE" data-v-4b7cea8e>Germany</option><option value="FR" data-v-4b7cea8e>France</option><option value="IT" data-v-4b7cea8e>Italy</option><option value="ES" data-v-4b7cea8e>Spain</option><option value="JP" data-v-4b7cea8e>Japan</option><option value="BR" data-v-4b7cea8e>Brazil</option><option value="MX" data-v-4b7cea8e>Mexico</option><option value="IN" data-v-4b7cea8e>India</option>',13)]),8,dr),[[a.u1,i.localConfig.FILTER_REGION_PROVIDER]]),t[37]||(t[37]=(0,o.Lk)("small",{class:"form-help"}," Region for streaming service availability ",-1))])]),(0,o.Lk)("div",ur,[t[45]||(t[45]=(0,o.Lk)("h3",null,[(0,o.Lk)("i",{class:"fas fa-filter"}),(0,o.eW)(" Request & Download Filters ")],-1)),(0,o.Lk)("div",gr,[(0,o.Lk)("label",fr,[(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[9]||(t[9]=e=>i.localConfig.EXCLUDE_DOWNLOADED=e),type:"checkbox",disabled:s.isLoading},null,8,pr),[[a.lH,i.localConfig.EXCLUDE_DOWNLOADED]]),t[39]||(t[39]=(0,o.Lk)("span",{class:"checkbox-text"},"Exclude downloaded content",-1))]),t[40]||(t[40]=(0,o.Lk)("small",{class:"form-help"}," Don't suggest content that is already downloaded ",-1))]),(0,o.Lk)("div",hr,[(0,o.Lk)("label",mr,[(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[10]||(t[10]=e=>i.localConfig.EXCLUDE_REQUESTED=e),type:"checkbox",disabled:s.isLoading},null,8,br),[[a.lH,i.localConfig.EXCLUDE_REQUESTED]]),t[41]||(t[41]=(0,o.Lk)("span",{class:"checkbox-text"},"Exclude requested content",-1))]),t[42]||(t[42]=(0,o.Lk)("small",{class:"form-help"}," Don't suggest content that is already requested ",-1))]),(0,o.Lk)("div",Lr,[(0,o.Lk)("label",Er,[(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[11]||(t[11]=e=>i.localConfig.HONOR_JELLYSEER_DISCOVERY=e),type:"checkbox",disabled:s.isLoading},null,8,kr),[[a.lH,i.localConfig.HONOR_JELLYSEER_DISCOVERY]]),t[43]||(t[43]=(0,o.Lk)("span",{class:"checkbox-text"},"Honor Overseer/Jellyseer discovery settings",-1))]),t[44]||(t[44]=(0,o.Lk)("small",{class:"form-help"}," Respect the discovery settings configured in Overseer/Jellyseer ",-1))])])]),(0,o.Lk)("div",vr,[(0,o.Lk)("button",{onClick:t[12]||(t[12]=(...e)=>n.saveSettings&&n.saveSettings(...e)),class:"btn btn-primary",disabled:s.isLoading||!n.hasChanges},[t[46]||(t[46]=(0,o.Lk)("i",{class:"fas fa-save"},null,-1)),(0,o.eW)(" "+(0,p.v_)(s.isLoading?"Saving...":"Save Changes"),1)],8,yr),(0,o.Lk)("button",{onClick:t[13]||(t[13]=(...e)=>n.resetToDefaults&&n.resetToDefaults(...e)),class:"btn btn-outline",disabled:s.isLoading},t[47]||(t[47]=[(0,o.Lk)("i",{class:"fas fa-undo"},null,-1),(0,o.eW)(" Reset to Defaults ")]),8,Sr)])])}var _r={name:"SettingsContentFilters",props:{config:{type:Object,required:!0},isLoading:{type:Boolean,default:!1}},emits:["save-section"],data(){return{localConfig:{},originalConfig:{},availableGenres:[{id:28,name:"Action"},{id:12,name:"Adventure"},{id:16,name:"Animation"},{id:35,name:"Comedy"},{id:80,name:"Crime"},{id:99,name:"Documentary"},{id:18,name:"Drama"},{id:10751,name:"Family"},{id:14,name:"Fantasy"},{id:36,name:"History"},{id:27,name:"Horror"},{id:10402,name:"Music"},{id:9648,name:"Mystery"},{id:10749,name:"Romance"},{id:878,name:"Science Fiction"},{id:10770,name:"TV Movie"},{id:53,name:"Thriller"},{id:10752,name:"War"},{id:37,name:"Western"}],availableStreamingServices:[{id:"netflix",name:"Netflix"},{id:"amazon",name:"Amazon Prime"},{id:"hulu",name:"Hulu"},{id:"disney",name:"Disney+"},{id:"hbo",name:"HBO Max"},{id:"apple",name:"Apple TV+"},{id:"paramount",name:"Paramount+"},{id:"peacock",name:"Peacock"},{id:"starz",name:"STARZ"},{id:"showtime",name:"Showtime"}]}},computed:{hasChanges(){return JSON.stringify(this.localConfig)!==JSON.stringify(this.originalConfig)},currentYear(){return(new Date).getFullYear()}},watch:{config:{immediate:!0,handler(e){this.localConfig={...e},this.originalConfig={...e},Array.isArray(this.localConfig.FILTER_GENRES_EXCLUDE)||(this.localConfig.FILTER_GENRES_EXCLUDE=[]),Array.isArray(this.localConfig.FILTER_STREAMING_SERVICES)||(this.localConfig.FILTER_STREAMING_SERVICES=[]),Array.isArray(this.localConfig.SELECTED_USERS)||(this.localConfig.SELECTED_USERS=[])}}},methods:{async saveSettings(){try{await this.$emit("save-section",{section:"content_filters",data:{FILTER_TMDB_THRESHOLD:this.localConfig.FILTER_TMDB_THRESHOLD||null,FILTER_TMDB_MIN_VOTES:this.localConfig.FILTER_TMDB_MIN_VOTES||null,FILTER_GENRES_EXCLUDE:this.localConfig.FILTER_GENRES_EXCLUDE||[],FILTER_RELEASE_YEAR:this.localConfig.FILTER_RELEASE_YEAR||null,FILTER_NUM_SEASONS:this.localConfig.FILTER_NUM_SEASONS||null,FILTER_LANGUAGE:this.localConfig.FILTER_LANGUAGE||null,FILTER_INCLUDE_NO_RATING:this.localConfig.FILTER_INCLUDE_NO_RATING,FILTER_STREAMING_SERVICES:this.localConfig.FILTER_STREAMING_SERVICES||[],FILTER_REGION_PROVIDER:this.localConfig.FILTER_REGION_PROVIDER||null,EXCLUDE_DOWNLOADED:this.localConfig.EXCLUDE_DOWNLOADED,EXCLUDE_REQUESTED:this.localConfig.EXCLUDE_REQUESTED,HONOR_JELLYSEER_DISCOVERY:this.localConfig.HONOR_JELLYSEER_DISCOVERY}}),this.originalConfig={...this.localConfig}}catch(e){console.error("Error saving content filter settings:",e)}},async resetToDefaults(){const e={FILTER_TMDB_THRESHOLD:null,FILTER_TMDB_MIN_VOTES:null,FILTER_GENRES_EXCLUDE:[],FILTER_RELEASE_YEAR:null,FILTER_NUM_SEASONS:null,FILTER_LANGUAGE:null,FILTER_INCLUDE_NO_RATING:!0,FILTER_STREAMING_SERVICES:[],FILTER_REGION_PROVIDER:null,EXCLUDE_DOWNLOADED:!0,EXCLUDE_REQUESTED:!0,HONOR_JELLYSEER_DISCOVERY:!1};confirm("Are you sure you want to reset all content filter settings to their defaults?")&&(this.localConfig={...this.localConfig,...e},await this.saveSettings())}}};const xr=(0,r.A)(_r,[["render",Cr],["__scopeId","data-v-4b7cea8e"]]);var Ir=xr;const Tr={class:"settings-advanced"},Rr={class:"settings-grid"},Ar={class:"settings-group"},wr={class:"form-group"},Dr={key:0,class:"loading-users"},Ur={key:1,class:"user-selector"},Nr=["id","value","disabled"],Mr=["for"],Pr={class:"user-avatar"},Or=["src","alt"],Br={key:1,class:"fas fa-user"},Fr={class:"user-info"},Xr={class:"user-name"},Vr={class:"user-type"},Hr={class:"form-group"},Yr=["disabled"],Kr={class:"settings-group experimental"},Jr={class:"form-group"},Gr={class:"checkbox-label"},Wr=["disabled"],qr={class:"form-group"},Qr={class:"checkbox-label"},jr=["disabled"],zr={class:"form-group"},$r={class:"checkbox-label"},Zr=["disabled"],ec={class:"settings-group"},tc={class:"form-group"},sc=["disabled"],ac={class:"form-group"},oc={class:"checkbox-label"},lc=["disabled"],ic={class:"form-group"},nc={class:"checkbox-label"},rc=["disabled"],cc={class:"settings-group"},dc={class:"form-group"},uc=["disabled"],gc={class:"form-group"},fc=["disabled"],pc={class:"form-group"},hc=["disabled"],mc={class:"settings-group"},bc={class:"form-group"},Lc=["disabled"],Ec={class:"form-group"},kc=["disabled"],vc={class:"form-group"},yc={class:"checkbox-label"},Sc=["disabled"],Cc={class:"settings-actions"},_c=["disabled"],xc=["disabled"];function Ic(e,t,s,l,i,n){return(0,o.uX)(),(0,o.CE)("div",Tr,[t[53]||(t[53]=(0,o.Lk)("div",{class:"section-header"},[(0,o.Lk)("h2",null,"Advanced Settings"),(0,o.Lk)("p",null,"Configure advanced options and experimental features")],-1)),(0,o.Lk)("div",Rr,[(0,o.Lk)("div",Ar,[t[20]||(t[20]=(0,o.Lk)("h3",null,[(0,o.Lk)("i",{class:"fas fa-users"}),(0,o.eW)(" User Selection ")],-1)),(0,o.Lk)("div",wr,[t[17]||(t[17]=(0,o.Lk)("label",{for:"selectedUsers"},"Selected Users",-1)),i.isLoadingUsers?((0,o.uX)(),(0,o.CE)("div",Dr,t[16]||(t[16]=[(0,o.Lk)("i",{class:"fas fa-spinner fa-spin"},null,-1),(0,o.eW)(" Loading users... ")]))):((0,o.uX)(),(0,o.CE)("div",Ur,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(i.availableUsers,(e=>((0,o.uX)(),(0,o.CE)("div",{key:e.id,class:"user-item"},[(0,o.bo)((0,o.Lk)("input",{id:`user-${e.id}`,"onUpdate:modelValue":t[0]||(t[0]=e=>i.localConfig.SELECTED_USERS=e),value:e.id,type:"checkbox",class:"user-checkbox",disabled:s.isLoading},null,8,Nr),[[a.lH,i.localConfig.SELECTED_USERS]]),(0,o.Lk)("label",{for:`user-${e.id}`,class:"user-label"},[(0,o.Lk)("div",Pr,[e.avatar?((0,o.uX)(),(0,o.CE)("img",{key:0,src:e.avatar,alt:e.name},null,8,Or)):((0,o.uX)(),(0,o.CE)("i",Br))]),(0,o.Lk)("div",Fr,[(0,o.Lk)("div",Xr,(0,p.v_)(e.name),1),(0,o.Lk)("div",Vr,(0,p.v_)(e.type||"User"),1)])],8,Mr)])))),128))])),t[18]||(t[18]=(0,o.Lk)("small",{class:"form-help"}," Select users for whom to generate suggestions. Leave empty to include all users. ",-1))]),(0,o.Lk)("div",Hr,[(0,o.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>n.refreshUsers&&n.refreshUsers(...e)),class:"btn btn-outline btn-sm",disabled:s.isLoading||i.isLoadingUsers},t[19]||(t[19]=[(0,o.Lk)("i",{class:"fas fa-sync"},null,-1),(0,o.eW)(" Refresh Users ")]),8,Yr)])]),(0,o.Lk)("div",Kr,[t[27]||(t[27]=(0,o.Lk)("h3",null,[(0,o.Lk)("i",{class:"fas fa-flask"}),(0,o.eW)(" Experimental Features ")],-1)),t[28]||(t[28]=(0,o.Lk)("div",{class:"warning-box"},[(0,o.Lk)("i",{class:"fas fa-exclamation-triangle"}),(0,o.Lk)("div",null,[(0,o.Lk)("strong",null,"Warning:"),(0,o.Lk)("p",null," These features are experimental and may cause unexpected behavior. Use with caution. ")])],-1)),(0,o.Lk)("div",Jr,[(0,o.Lk)("label",Gr,[(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>i.localConfig.ENABLE_BETA_FEATURES=e),type:"checkbox",disabled:s.isLoading},null,8,Wr),[[a.lH,i.localConfig.ENABLE_BETA_FEATURES]]),t[21]||(t[21]=(0,o.Lk)("span",{class:"checkbox-text"},"Enable beta features",-1))]),t[22]||(t[22]=(0,o.Lk)("small",{class:"form-help"}," Enable experimental features that are still in development ",-1))]),(0,o.Lk)("div",qr,[(0,o.Lk)("label",Qr,[(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>i.localConfig.ENABLE_ADVANCED_ALGORITHM=e),type:"checkbox",disabled:s.isLoading},null,8,jr),[[a.lH,i.localConfig.ENABLE_ADVANCED_ALGORITHM]]),t[23]||(t[23]=(0,o.Lk)("span",{class:"checkbox-text"},"Use advanced suggestion algorithm",-1))]),t[24]||(t[24]=(0,o.Lk)("small",{class:"form-help"}," Use an enhanced algorithm for better content suggestions (may be slower) ",-1))]),(0,o.Lk)("div",zr,[(0,o.Lk)("label",$r,[(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>i.localConfig.ENABLE_SOCIAL_FEATURES=e),type:"checkbox",disabled:s.isLoading},null,8,Zr),[[a.lH,i.localConfig.ENABLE_SOCIAL_FEATURES]]),t[25]||(t[25]=(0,o.Lk)("span",{class:"checkbox-text"},"Enable social features",-1))]),t[26]||(t[26]=(0,o.Lk)("small",{class:"form-help"}," Enable social features like sharing and collaborative filtering ",-1))])]),(0,o.Lk)("div",ec,[t[36]||(t[36]=(0,o.Lk)("h3",null,[(0,o.Lk)("i",{class:"fas fa-bug"}),(0,o.eW)(" Debug Settings ")],-1)),(0,o.Lk)("div",tc,[t[30]||(t[30]=(0,o.Lk)("label",{for:"logLevel"},"Log Level",-1)),(0,o.bo)((0,o.Lk)("select",{id:"logLevel","onUpdate:modelValue":t[5]||(t[5]=e=>i.localConfig.LOG_LEVEL=e),class:"form-control",disabled:s.isLoading},t[29]||(t[29]=[(0,o.Lk)("option",{value:"ERROR"},"Error",-1),(0,o.Lk)("option",{value:"WARNING"},"Warning",-1),(0,o.Lk)("option",{value:"INFO"},"Info",-1),(0,o.Lk)("option",{value:"DEBUG"},"Debug",-1)]),8,sc),[[a.u1,i.localConfig.LOG_LEVEL]]),t[31]||(t[31]=(0,o.Lk)("small",{class:"form-help"}," Set the verbosity of application logs ",-1))]),(0,o.Lk)("div",ac,[(0,o.Lk)("label",oc,[(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[6]||(t[6]=e=>i.localConfig.ENABLE_DEBUG_MODE=e),type:"checkbox",disabled:s.isLoading},null,8,lc),[[a.lH,i.localConfig.ENABLE_DEBUG_MODE]]),t[32]||(t[32]=(0,o.Lk)("span",{class:"checkbox-text"},"Enable debug mode",-1))]),t[33]||(t[33]=(0,o.Lk)("small",{class:"form-help"}," Enable detailed logging and debugging information ",-1))]),(0,o.Lk)("div",ic,[(0,o.Lk)("label",nc,[(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[7]||(t[7]=e=>i.localConfig.ENABLE_PERFORMANCE_MONITORING=e),type:"checkbox",disabled:s.isLoading},null,8,rc),[[a.lH,i.localConfig.ENABLE_PERFORMANCE_MONITORING]]),t[34]||(t[34]=(0,o.Lk)("span",{class:"checkbox-text"},"Enable performance monitoring",-1))]),t[35]||(t[35]=(0,o.Lk)("small",{class:"form-help"}," Track performance metrics for optimization ",-1))])]),(0,o.Lk)("div",cc,[t[43]||(t[43]=(0,o.Lk)("h3",null,[(0,o.Lk)("i",{class:"fas fa-memory"}),(0,o.eW)(" Cache Settings ")],-1)),(0,o.Lk)("div",dc,[t[37]||(t[37]=(0,o.Lk)("label",{for:"cacheTtl"},"Cache TTL (hours)",-1)),(0,o.bo)((0,o.Lk)("input",{id:"cacheTtl","onUpdate:modelValue":t[8]||(t[8]=e=>i.localConfig.CACHE_TTL=e),type:"number",min:"1",max:"168",placeholder:"24",class:"form-control",disabled:s.isLoading},null,8,uc),[[a.Jo,i.localConfig.CACHE_TTL,void 0,{number:!0}]]),t[38]||(t[38]=(0,o.Lk)("small",{class:"form-help"}," How long to cache API responses and data (1-168 hours) ",-1))]),(0,o.Lk)("div",gc,[t[39]||(t[39]=(0,o.Lk)("label",{for:"maxCacheSize"},"Max Cache Size (MB)",-1)),(0,o.bo)((0,o.Lk)("input",{id:"maxCacheSize","onUpdate:modelValue":t[9]||(t[9]=e=>i.localConfig.MAX_CACHE_SIZE=e),type:"number",min:"10",max:"1024",placeholder:"100",class:"form-control",disabled:s.isLoading},null,8,fc),[[a.Jo,i.localConfig.MAX_CACHE_SIZE,void 0,{number:!0}]]),t[40]||(t[40]=(0,o.Lk)("small",{class:"form-help"}," Maximum cache size in megabytes (10-1024 MB) ",-1))]),(0,o.Lk)("div",pc,[(0,o.Lk)("button",{onClick:t[10]||(t[10]=(...e)=>n.clearCache&&n.clearCache(...e)),class:"btn btn-outline btn-sm",disabled:s.isLoading},t[41]||(t[41]=[(0,o.Lk)("i",{class:"fas fa-trash"},null,-1),(0,o.eW)(" Clear Cache ")]),8,hc),t[42]||(t[42]=(0,o.Lk)("small",{class:"form-help"}," Clear all cached data and force fresh API calls ",-1))])]),(0,o.Lk)("div",mc,[t[50]||(t[50]=(0,o.Lk)("h3",null,[(0,o.Lk)("i",{class:"fas fa-code"}),(0,o.eW)(" API Settings ")],-1)),(0,o.Lk)("div",bc,[t[44]||(t[44]=(0,o.Lk)("label",{for:"apiTimeout"},"API Timeout (seconds)",-1)),(0,o.bo)((0,o.Lk)("input",{id:"apiTimeout","onUpdate:modelValue":t[11]||(t[11]=e=>i.localConfig.API_TIMEOUT=e),type:"number",min:"5",max:"120",placeholder:"30",class:"form-control",disabled:s.isLoading},null,8,Lc),[[a.Jo,i.localConfig.API_TIMEOUT,void 0,{number:!0}]]),t[45]||(t[45]=(0,o.Lk)("small",{class:"form-help"}," Timeout for external API calls (5-120 seconds) ",-1))]),(0,o.Lk)("div",Ec,[t[46]||(t[46]=(0,o.Lk)("label",{for:"apiRetries"},"API Retry Attempts",-1)),(0,o.bo)((0,o.Lk)("input",{id:"apiRetries","onUpdate:modelValue":t[12]||(t[12]=e=>i.localConfig.API_RETRIES=e),type:"number",min:"0",max:"5",placeholder:"3",class:"form-control",disabled:s.isLoading},null,8,kc),[[a.Jo,i.localConfig.API_RETRIES,void 0,{number:!0}]]),t[47]||(t[47]=(0,o.Lk)("small",{class:"form-help"}," Number of retry attempts for failed API calls (0-5) ",-1))]),(0,o.Lk)("div",vc,[(0,o.Lk)("label",yc,[(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[13]||(t[13]=e=>i.localConfig.ENABLE_API_CACHING=e),type:"checkbox",disabled:s.isLoading},null,8,Sc),[[a.lH,i.localConfig.ENABLE_API_CACHING]]),t[48]||(t[48]=(0,o.Lk)("span",{class:"checkbox-text"},"Enable API response caching",-1))]),t[49]||(t[49]=(0,o.Lk)("small",{class:"form-help"}," Cache API responses to reduce external service load ",-1))])])]),(0,o.Lk)("div",Cc,[(0,o.Lk)("button",{onClick:t[14]||(t[14]=(...e)=>n.saveSettings&&n.saveSettings(...e)),class:"btn btn-primary",disabled:s.isLoading||!n.hasChanges},[t[51]||(t[51]=(0,o.Lk)("i",{class:"fas fa-save"},null,-1)),(0,o.eW)(" "+(0,p.v_)(s.isLoading?"Saving...":"Save Changes"),1)],8,_c),(0,o.Lk)("button",{onClick:t[15]||(t[15]=(...e)=>n.resetToDefaults&&n.resetToDefaults(...e)),class:"btn btn-outline",disabled:s.isLoading},t[52]||(t[52]=[(0,o.Lk)("i",{class:"fas fa-undo"},null,-1),(0,o.eW)(" Reset to Defaults ")]),8,xc)])])}var Tc={name:"SettingsAdvanced",props:{config:{type:Object,required:!0},isLoading:{type:Boolean,default:!1}},emits:["save-section"],data(){return{localConfig:{},originalConfig:{},availableUsers:[],isLoadingUsers:!1}},computed:{hasChanges(){return JSON.stringify(this.localConfig)!==JSON.stringify(this.originalConfig)}},watch:{config:{immediate:!0,handler(e){this.localConfig={...e},this.originalConfig={...e},Array.isArray(this.localConfig.SELECTED_USERS)||(this.localConfig.SELECTED_USERS=[]);const t={LOG_LEVEL:"INFO",ENABLE_DEBUG_MODE:!1,ENABLE_PERFORMANCE_MONITORING:!1,CACHE_TTL:24,MAX_CACHE_SIZE:100,API_TIMEOUT:30,API_RETRIES:3,ENABLE_API_CACHING:!0,ENABLE_BETA_FEATURES:!1,ENABLE_ADVANCED_ALGORITHM:!1,ENABLE_SOCIAL_FEATURES:!1};Object.keys(t).forEach((e=>{void 0===this.localConfig[e]&&(this.localConfig[e]=t[e])}))}}},mounted(){this.loadUsers()},methods:{async loadUsers(){this.isLoadingUsers=!0;try{const e=this.localConfig.SELECTED_SERVICE;if(!e)return void(this.availableUsers=[]);let t;if("plex"===e?t="/api/plex/users":"jellyfin"===e?t="/api/jellyfin/users":"seer"===e&&(t="/api/seer/users"),t){const e=await se.A.get(t);this.availableUsers=e.data.users||e.data||[]}}catch(e){console.error("Error loading users:",e),this.availableUsers=[]}finally{this.isLoadingUsers=!1}},async refreshUsers(){await this.loadUsers()},async clearCache(){if(confirm("Are you sure you want to clear all cached data? This may temporarily slow down the application."))try{await se.A.post("/api/cache/clear"),this.$toast.success("Cache cleared successfully!")}catch(e){this.$toast.error("Failed to clear cache"),console.error("Error clearing cache:",e)}},async saveSettings(){try{await this.$emit("save-section",{section:"advanced",data:{SELECTED_USERS:this.localConfig.SELECTED_USERS||[],LOG_LEVEL:this.localConfig.LOG_LEVEL||"INFO",ENABLE_DEBUG_MODE:this.localConfig.ENABLE_DEBUG_MODE||!1,ENABLE_PERFORMANCE_MONITORING:this.localConfig.ENABLE_PERFORMANCE_MONITORING||!1,CACHE_TTL:this.localConfig.CACHE_TTL||24,MAX_CACHE_SIZE:this.localConfig.MAX_CACHE_SIZE||100,API_TIMEOUT:this.localConfig.API_TIMEOUT||30,API_RETRIES:this.localConfig.API_RETRIES||3,ENABLE_API_CACHING:!1!==this.localConfig.ENABLE_API_CACHING,ENABLE_BETA_FEATURES:this.localConfig.ENABLE_BETA_FEATURES||!1,ENABLE_ADVANCED_ALGORITHM:this.localConfig.ENABLE_ADVANCED_ALGORITHM||!1,ENABLE_SOCIAL_FEATURES:this.localConfig.ENABLE_SOCIAL_FEATURES||!1}}),this.originalConfig={...this.localConfig}}catch(e){console.error("Error saving advanced settings:",e)}},async resetToDefaults(){const e={SELECTED_USERS:[],LOG_LEVEL:"INFO",ENABLE_DEBUG_MODE:!1,ENABLE_PERFORMANCE_MONITORING:!1,CACHE_TTL:24,MAX_CACHE_SIZE:100,API_TIMEOUT:30,API_RETRIES:3,ENABLE_API_CACHING:!0,ENABLE_BETA_FEATURES:!1,ENABLE_ADVANCED_ALGORITHM:!1,ENABLE_SOCIAL_FEATURES:!1};confirm("Are you sure you want to reset all advanced settings to their defaults?")&&(this.localConfig={...this.localConfig,...e},await this.saveSettings())}}};const Rc=(0,r.A)(Tc,[["render",Ic],["__scopeId","data-v-7f62fa74"]]);var Ac=Rc,wc={name:"SettingsPage",components:{Footer:we,SettingsGeneral:Nl,SettingsServices:Pi,SettingsDatabase:Un,SettingsContentFilters:Ir,SettingsAdvanced:Ac},mixins:[ae],data(){return{config:{},isLoading:!1,activeTab:"general",showResetModal:!1,backgroundImageUrl:"",tabs:[{id:"general",name:"General",icon:"fas fa-cog"},{id:"services",name:"Services",icon:"fas fa-plug"},{id:"database",name:"Database",icon:"fas fa-database"},{id:"content_filters",name:"Content Filters",icon:"fas fa-filter"},{id:"advanced",name:"Advanced",icon:"fas fa-sliders-h"}]}},computed:{activeTabComponent(){const e={general:"SettingsGeneral",services:"SettingsServices",database:"SettingsDatabase",content_filters:"SettingsContentFilters",advanced:"SettingsAdvanced"};return e[this.activeTab]}},async mounted(){await this.loadConfig(),this.startBackgroundImageRotation(this.config.TMDB_API_KEY?De:null,this.config.TMDB_API_KEY)},methods:{async loadConfig(){try{const e=await se.A.get("/api/config/fetch");this.config=e.data}catch(e){this.$toast.error("Failed to load configuration"),console.error("Error loading config:",e)}},async saveSection({section:e,data:t}){this.isLoading=!0;try{await se.A.post(`/api/config/section/${e}`,t),Object.assign(this.config,t),this.$toast.success(`${e} settings saved successfully!`)}catch(s){this.$toast.error(`Failed to save ${e} settings: ${s.response?.data?.message||s.message}`),console.error("Error saving section:",s)}finally{this.isLoading=!1}},async testConnection(e,t){try{let s;switch(e){case"tmdb":s="/api/tmdb/test";break;case"jellyfin":s="/api/jellyfin/test";break;case"plex":s="/api/plex/test";break;case"seer":s="/api/seer/test";break;case"database":s="/api/config/test-db-connection";break;default:throw new Error(`Unknown connection type: ${e}`)}const a=await se.A.post(s,t);return"success"===a.data.status?this.$toast.success(`${e} connection test successful!`):this.$toast.error(`${e} connection test failed: ${a.data.message}`),a.data}catch(s){throw this.$toast.error(`${e} connection test failed: ${s.response?.data?.message||s.message}`),s}},goToDashboard(){this.$router.push({name:"Home"})},async exportConfig(){try{const e=await se.A.get("/api/config/fetch"),t=e.data,s=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),a=URL.createObjectURL(s),o=document.createElement("a");o.href=a,o.download=`suggestarr-config-${(new Date).toISOString().split("T")[0]}.json`,o.click(),URL.revokeObjectURL(a),this.$toast.success("Configuration exported successfully!")}catch(e){this.$toast.error("Failed to export configuration"),console.error("Error exporting config:",e)}},importConfig(){this.$refs.fileInput.click()},async handleFileImport(e){const t=e.target.files[0];if(t)try{const e=await t.text(),s=JSON.parse(e);this.isLoading=!0,await se.A.post("/api/config/save",s),await this.loadConfig(),this.$toast.success("Configuration imported successfully!")}catch(s){this.$toast.error("Failed to import configuration: Invalid file format"),console.error("Error importing config:",s)}finally{this.isLoading=!1,e.target.value=""}},resetConfig(){this.showResetModal=!0},async confirmReset(){this.showResetModal=!1,this.isLoading=!0;try{await se.A.post("/api/config/reset"),this.$toast.success("Configuration reset successfully!"),this.$router.push({name:"Home"})}catch(e){this.$toast.error("Failed to reset configuration"),console.error("Error resetting config:",e)}finally{this.isLoading=!1}}},beforeUnmount(){this.stopBackgroundImageRotation()}};const Dc=(0,r.A)(wc,[["render",rl],["__scopeId","data-v-3e70ece0"]]);var Uc=Dc;async function Nc(){try{const e=await se.A.get("/api/config/fetch");return e.data.SUBPATH||""}catch(e){throw new Error("Unable to load the configuration file")}}async function Mc(){try{const e=await se.A.get("/api/config/status");return e.data}catch(e){return console.error("Error checking setup status:",e),{setup_completed:!1,is_complete:!1}}}async function Pc(){const e=await Nc(),t=(await Mc(),[{path:"/requests",name:"RequestsPage",component:Me,meta:{requiresSetup:!0}},{path:"/",name:"Home",component:Qo,meta:{setupOnly:!0}},{path:"/setup",name:"Setup",component:Qo,meta:{setupOnly:!0}},{path:"/settings",name:"Settings",component:Uc,meta:{requiresSetup:!0}},{path:"/settings/:tab?",name:"SettingsTab",component:Uc,meta:{requiresSetup:!0}},{path:"/wizard",redirect:"/setup"}]),s=(0,f.aE)({history:(0,f.LA)(e||"/"),routes:t});return s.beforeEach((async(e,t,s)=>{const a=await Mc();return e.meta.requiresSetup&&!a.setup_completed?s("/setup"):e.meta.setupOnly&&a.setup_completed?s("/settings"):void s()})),s}Pc().then((e=>{const t=(0,a.Ef)(d);t.use(e),t.mount("#app");const s={position:"top-right",timeout:5e3,closeOnClick:!1,pauseOnHover:!0,draggable:!1,showCloseButtonOnHover:!0,closeButton:"button",icon:!0,rtl:!1};t.use(g(),s)})).catch((e=>{console.error("Error loading the router:",e)}));const Oc=(0,a.Ef)(d);const Bc={position:"top-right",timeout:5e3,closeOnClick:!1,pauseOnHover:!0,draggable:!1,showCloseButtonOnHover:!0,closeButton:"button",icon:!0,rtl:!1};Oc.use(g(),Bc)},1936:function(e){"use strict";e.exports="data:image/png;base64,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"},7238:function(e,t,s){"use strict";e.exports=s.p+"img/jellyfin-logo.29a3eb64.png"},8186:function(e,t,s){"use strict";e.exports=s.p+"img/plex-logo.67c10e65.png"},1296:function(){}},t={};function s(a){var o=t[a];if(void 0!==o)return o.exports;var l=t[a]={exports:{}};return e[a].call(l.exports,l,l.exports,s),l.exports}s.m=e,function(){var e=[];s.O=function(t,a,o,l){if(!a){var i=1/0;for(d=0;d<e.length;d++){a=e[d][0],o=e[d][1],l=e[d][2];for(var n=!0,r=0;r<a.length;r++)(!1&l||i>=l)&&Object.keys(s.O).every((function(e){return s.O[e](a[r])}))?a.splice(r--,1):(n=!1,l<i&&(i=l));if(n){e.splice(d--,1);var c=o();void 0!==c&&(t=c)}}return t}l=l||0;for(var d=e.length;d>0&&e[d-1][2]>l;d--)e[d]=e[d-1];e[d]=[a,o,l]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var a in t)s.o(t,a)&&!s.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){s.p="/"}(),function(){var e={524:0};s.O.j=function(t){return 0===e[t]};var t=function(t,a){var o,l,i=a[0],n=a[1],r=a[2],c=0;if(i.some((function(t){return 0!==e[t]}))){for(o in n)s.o(n,o)&&(s.m[o]=n[o]);if(r)var d=r(s)}for(t&&t(a);c<i.length;c++)l=i[c],s.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return s.O(d)},a=self["webpackChunksuggestarr"]=self["webpackChunksuggestarr"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=s.O(void 0,[504],(function(){return s(8539)}));a=s.O(a)})();
//# sourceMappingURL=app.4a860040.js.map